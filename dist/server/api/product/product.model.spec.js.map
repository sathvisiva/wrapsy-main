{"version":3,"sources":["../../../../server/api/product/product.model.spec.js"],"names":[],"mappings":";;AAAA,IAAI,OAAO,GAAG,OAAO,CAAC,oBAAoB,CAAC,CAAC,OAAO,CAAC;;AAEpD,QAAQ,CAAC,SAAS,EAAE,YAAW;AAC7B,YAAU,CAAC,UAAS,IAAI,EAAC;AACvB,WAAO,CAAC,MAAM,CAAC,IAAI,CAAC,CAAC;GACtB,CAAC,CAAC;;AAEH,IAAE,CAAC,iCAAiC,EAAE,UAAS,IAAI,EAAE;AACnD,WAAO,CAAC,MAAM,CAAC,EAAC,KAAK,EAAE,MAAM,EAAC,EAAE,UAAS,GAAG,EAAC;AAC3C,SAAG,CAAC,MAAM,CAAC,GAAG,CAAC,EAAE,CAAC,KAAK,CAAC;AACxB,UAAI,EAAE,CAAC;KACR,CAAC,CAAC;GACJ,CAAC,CAAC;;AAEH,IAAE,CAAC,0CAA0C,EAAE,UAAS,IAAI,EAAC;AAC3D,WAAO,CAAC,MAAM,CAAC,EAAC,KAAK,EAAE,cAAc,EAAE,KAAK,EAAE,GAAG,EAAC,EAChD,iBAAiB,CAAC,OAAO,EAAE,UAAU,EAAE,IAAI,CAAC,CAAC,CAAC;GACjD,CAAC,CAAC;;AAEH,IAAE,CAAC,2BAA2B,EAAE,UAAS,IAAI,EAAC;AAC5C,WAAO,CAAC,MAAM,CAAC,EAAC,KAAK,EAAE,OAAO,EAAE,KAAK,EAAE,GAAG,EAAC,EACzC,iBAAiB,CAAC,OAAO,EAAE,CAAC,EAAE,IAAI,CAAC,CAAC,CAAC;GACxC,CAAC,CAAC;;AAEH,IAAE,CAAC,iCAAiC,EAAE,UAAS,IAAI,EAAE;AACnD,WAAO,CAAC,MAAM,CAAC,EAAC,KAAK,EAAE,UAAU,EAAC,EAAE,UAAS,GAAG,EAAC;AAC/C,SAAG,CAAC,MAAM,CAAC,GAAG,CAAC,EAAE,CAAC,KAAK,CAAC;AACxB,UAAI,EAAE,CAAC;KACR,CAAC,CAAC;GACJ,CAAC,CAAC;;AAEH,IAAE,CAAC,iCAAiC,EAAE,UAAS,IAAI,EAAE;AACnD,WAAO,CAAC,MAAM,CAAC,EAAC,KAAK,EAAE,OAAO,EAAE,KAAK,EAAE,CAAC,GAAG,EAAC,EAAE,UAAS,GAAG,EAAC;AACzD,SAAG,CAAC,MAAM,CAAC,GAAG,CAAC,EAAE,CAAC,KAAK,CAAC;AACxB,UAAI,EAAE,CAAC;KACR,CAAC,CAAC;GACJ,CAAC,CAAC;;AAEH,IAAE,CAAC,2BAA2B,EAAE,UAAS,IAAI,EAAC;AAC5C,WAAO,CAAC,MAAM,CAAC,EAAC,KAAK,EAAE,OAAO,EAAE,KAAK,EAAE,GAAG,EAAE,WAAW,EAAE,gBAAgB,EAAC,EACxE,iBAAiB,CAAC,aAAa,EAAE,gBAAgB,EAAE,IAAI,CAAC,CAAC,CAAC;GAC7D,CAAC,CAAC;CACJ,CAAC,CAAC;;AAEH,SAAS,iBAAiB,CAAC,IAAI,EAAE,KAAK,EAAE,IAAI,EAAC;AAC3C,SAAO,UAAS,GAAG,EAAC;AAClB,QAAG,GAAG,EAAE,IAAI,CAAC,GAAG,CAAC,CAAC;;AAElB,WAAO,CAAC,OAAO,CAAC,EAAE,EAAE,UAAS,GAAG,EAAE,OAAO,EAAC;AACxC,UAAG,GAAG,EAAE,IAAI,CAAC,GAAG,CAAC,CAAC;AAClB,aAAO,CAAC,MAAM,CAAC,IAAI,CAAC,QAAQ,CAAC,IAAI,EAAE,KAAK,CAAC,CAAC;AAC1C,UAAI,EAAE,CAAC;KACR,CAAC,CAAC;GACJ,CAAA;CACF","file":"product.model.spec.js","sourcesContent":["var Product = require('./product.model.js').product;\n\ndescribe('Product', function() {\n  beforeEach(function(done){\n    Product.remove(done); // remove all data\n  });\n\n  it('should not create without title', function(done) {\n    Product.create({price: 123.45}, function(err){\n      err.should.not.be.empty;\n      done();\n    });\n  });\n\n  it('should remove trailing spaces from title', function(done){\n    Product.create({title: '  no space  ', price: 123},\n      productShouldHave('title', 'no space', done));\n  });\n\n  it('should default stock to 1', function(done){\n    Product.create({title: 'title', price: 123},\n      productShouldHave('stock', 1, done));\n  });\n\n  it('should not create without price', function(done) {\n    Product.create({title: 'no price'}, function(err){\n      err.should.not.be.empty;\n      done();\n    });\n  });\n\n  it('should not allow negative price', function(done) {\n    Product.create({title: 'title', price: -123}, function(err){\n      err.should.not.be.empty;\n      done();\n    });\n  });\n\n  it('should save a description', function(done){\n    Product.create({title: 'title', price: 123, description: 'le description'},\n      productShouldHave('description', 'le description', done));\n  });\n});\n\nfunction productShouldHave(name, value, done){\n  return function(err){\n    if(err) done(err);\n\n    Product.findOne({}, function(err, product){\n      if(err) done(err);\n      product.should.have.property(name, value);\n      done();\n    });\n  }\n}\n"]}