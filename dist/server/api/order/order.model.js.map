{"version":3,"sources":["../../../../server/api/order/order.model.js"],"names":[],"mappings":"AAAA,YAAY,CAAC;;;;;;;;iCAIM,0BAA0B;;;;AAF7C,IAAI,QAAQ,GAAG,OAAO,CAAC,UAAU,CAAC,CAAC,YAAY,CAAC,OAAO,CAAC,UAAU,CAAC,CAAC,CAAC;AACrE,IAAI,aAAa,GAAG,OAAO,CAAC,yBAAyB,CAAC,CAAC;;AAEvD,IAAI,MAAM,GAAG,QAAQ,CAAC,MAAM,CAAA;;AAE5B,aAAa,CAAC,UAAU,CAAC,QAAQ,CAAC,gBAAgB,CAAC,+BAAO,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC;;AAEtE,IAAI,eAAe,GAAG,IAAI,MAAM,CAAC;AAC/B,MAAI,EAAE,MAAM;AACZ,OAAK,EAAE,MAAM;AACb,UAAQ,EAAE,MAAM;AAChB,OAAK,EAAE,MAAM;AACb,UAAQ,EAAI,MAAM;AAClB,MAAI,EAAG,MAAM;AACb,OAAK,EAAG,MAAM;AACd,WAAS,EAAE;AACT,QAAI,EAAE,MAAM,CAAC,KAAK,CAAC,QAAQ;AAC3B,OAAG,EAAE,SAAS;GACf;CACF,CAAC,CAAC;;AAEH,IAAI,WAAW,GAAG,IAAI,MAAM,CAAC;AAC3B,aAAW,EAAE,MAAM;AACnB,UAAQ,EAAE,MAAM;AAChB,KAAG,EAAE,MAAM;AACX,UAAQ,EAAE,MAAM;AAChB,WAAS,EAAE,MAAM;AACjB,OAAK,EAAE,CAAC,eAAe,CAAC;AACxB,YAAU,EAAE;AACV,QAAI,EAAE,MAAM,CAAC,KAAK,CAAC,QAAQ;AAC3B,OAAG,EAAE,MAAM;GACZ;AACD,SAAO,EAAE;AACP,QAAI,EAAE,MAAM,CAAC,KAAK,CAAC,QAAQ;AAC3B,OAAG,EAAE,SAAS;GACf;AACD,UAAQ,EAAE,EAAE;AACZ,QAAM,EAAE;AACN,QAAI,EAAE,MAAM;GACb;AACD,SAAO,EAAE;AACP,QAAI,EAAE,IAAI;AACV,eAAS,IAAI,CAAC,GAAG;GAClB;AACD,WAAS,EAAE;AACT,QAAI,EAAE,IAAI;AACV,eAAS,IAAI,CAAC,GAAG;GAClB;AACD,MAAI,EAAG;AACL,QAAI,EAAE,OAAO;AACb,eAAS,KAAK;GACf;CACF,CAAC,CAAC;;AAEH,WAAW,CAAC,MAAM,CAAC,aAAa,CAAC,MAAM,EAAE;AACvC,OAAK,EAAE,OAAO;AACd,OAAK,EAAE,aAAa;AACpB,SAAO,EAAE,MAAM;AACf,aAAW,EAAE,CAAC;CACf,CAAC,CAAC;;qBAEY,QAAQ,CAAC,KAAK,CAAC,OAAO,EAAE,WAAW,CAAC","file":"order.model.js","sourcesContent":["'use strict';\n\nvar mongoose = require('bluebird').promisifyAll(require('mongoose'));\nvar autoIncrement = require('mongoose-auto-increment');\nimport config from '../../config/environment';\nvar Schema = mongoose.Schema\n\nautoIncrement.initialize(mongoose.createConnection(config.mongo.uri));\n\nvar OrderItemSchema = new Schema({\n  name: String,\n  price: Number,\n  quantity: Number,\n  total: Number,\n  registry :  String,\n  size : String,\n  color : String,\n  productId: {\n    type: Schema.Types.ObjectId,\n    ref: 'Product'\n  }\n});\n\nvar OrderSchema = new Schema({\n  orderNumber: String,\n  shipping: Number,\n  tax: Number,\n  subTotal: Number,\n  totalCost: Number,\n  items: [OrderItemSchema],\n  customerId: {\n    type: Schema.Types.ObjectId,\n    ref: 'User'\n  },\n  address: {\n    type: Schema.Types.ObjectId,\n    ref: 'Address'\n  },\n  vouchers: [],  \n  status: {\n    type: String\n  },\n  created: {\n    type: Date,\n    default: Date.now\n  },\n  delivered: {\n    type: Date,\n    default: Date.now\n  },\n  paid : {\n    type: Boolean,\n    default: false\n  }\n});\n\nOrderSchema.plugin(autoIncrement.plugin, {\n  model: 'Order',\n  field: 'orderNumber',\n  startAt: 400000,\n  incrementBy: 1\n});\n\nexport default mongoose.model('Order', OrderSchema);\n"]}