{"version":3,"sources":["../../../../server/api/order/order.model.js"],"names":[],"mappings":"AAAA,YAAY,CAAC;;;;;;;;iCAIM,0BAA0B;;;;AAF7C,IAAI,QAAQ,GAAG,OAAO,CAAC,UAAU,CAAC,CAAC,YAAY,CAAC,OAAO,CAAC,UAAU,CAAC,CAAC,CAAC;AACrE,IAAI,aAAa,GAAG,OAAO,CAAC,yBAAyB,CAAC,CAAC;;AAEvD,IAAI,MAAM,GAAG,QAAQ,CAAC,MAAM,CAAA;;AAE5B,aAAa,CAAC,UAAU,CAAC,QAAQ,CAAC,gBAAgB,CAAC,+BAAO,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC;;AAEtE,IAAI,eAAe,GAAG,IAAI,MAAM,CAAC;AAC/B,MAAI,EAAE,MAAM;AACZ,OAAK,EAAE,MAAM;AACb,UAAQ,EAAE,MAAM;AAChB,OAAK,EAAE,MAAM;AACb,WAAS,EAAE;AACT,QAAI,EAAE,MAAM,CAAC,KAAK,CAAC,QAAQ;AAC3B,OAAG,EAAE,SAAS;GACf;CACF,CAAC,CAAC;;AAEH,IAAI,WAAW,GAAG,IAAI,MAAM,CAAC;AAC3B,aAAW,EAAE,MAAM;AACnB,UAAQ,EAAE,MAAM;AAChB,KAAG,EAAE,MAAM;AACX,SAAO,EAAE,MAAM;AACf,UAAQ,EAAE,MAAM;AAChB,WAAS,EAAE,MAAM;AACjB,OAAK,EAAE,CAAC,eAAe,CAAC;AACxB,YAAU,EAAE;AACV,QAAI,EAAE,MAAM,CAAC,KAAK,CAAC,QAAQ;AAC3B,OAAG,EAAE,MAAM;GACZ;AACD,cAAY,EAAE,MAAM;AACpB,eAAa,EAAE,MAAM;AACrB,iBAAe,EAAE,MAAM;AACvB,eAAa,EAAE,MAAM;AACrB,cAAY,EAAE,MAAM;AACpB,eAAa,EAAE,MAAM;AACrB,iBAAe,EAAE,MAAM;AACvB,WAAS,EAAE;AACT,QAAI,EAAE,OAAO;AACb,eAAS,KAAK;GACf;AACD,SAAO,EAAE;AACP,QAAI,EAAE,IAAI;AACV,eAAS,IAAI,CAAC,GAAG;GAClB;CACF,CAAC,CAAC;;AAEH,WAAW,CAAC,MAAM,CAAC,aAAa,CAAC,MAAM,EAAE;AACvC,OAAK,EAAE,OAAO;AACd,OAAK,EAAE,aAAa;AACpB,SAAO,EAAE,MAAM;AACf,aAAW,EAAE,CAAC;CACf,CAAC,CAAC;;qBAEY,QAAQ,CAAC,KAAK,CAAC,OAAO,EAAE,WAAW,CAAC","file":"order.model.js","sourcesContent":["'use strict';\n\nvar mongoose = require('bluebird').promisifyAll(require('mongoose'));\nvar autoIncrement = require('mongoose-auto-increment');\nimport config from '../../config/environment';\nvar Schema = mongoose.Schema\n\nautoIncrement.initialize(mongoose.createConnection(config.mongo.uri));\n\nvar OrderItemSchema = new Schema({\n  name: String,\n  price: Number,\n  quantity: Number,\n  total: Number,\n  productId: {\n    type: Schema.Types.ObjectId,\n    ref: 'Product'\n  }\n});\n\nvar OrderSchema = new Schema({\n  orderNumber: String,\n  shipping: Number,\n  tax: Number,\n  taxRate: Number,\n  subTotal: Number,\n  totalCost: Number,\n  items: [OrderItemSchema],\n  customerId: {\n    type: Schema.Types.ObjectId,\n    ref: 'User'\n  },\n  customerName: String,\n  customerEmail: String,\n  customerAddress: String,\n  customerPhone: String,\n  customerCity: String,\n  customerState: String,\n  customerCountry: String,\n  delivered: {\n    type: Boolean,\n    default: false\n  },\n  created: {\n    type: Date,\n    default: Date.now\n  }\n});\n\nOrderSchema.plugin(autoIncrement.plugin, {\n  model: 'Order',\n  field: 'orderNumber',\n  startAt: 400000,\n  incrementBy: 1\n});\n\nexport default mongoose.model('Order', OrderSchema);\n"]}