{"version":3,"sources":["../../../../server/api/registry/registry.socket.js"],"names":[],"mappings":";;;;AAIA,YAAY,CAAC;;AAEb,IAAI,OAAO,GAAG,OAAO,CAAC,iBAAiB,CAAC,CAAC;;AAEzC,OAAO,CAAC,QAAQ,GAAG,UAAS,MAAM,EAAE;AAClC,SAAO,CAAC,MAAM,CAAC,IAAI,CAAC,MAAM,EAAE,UAAU,GAAG,EAAE;AACzC,UAAM,CAAC,MAAM,EAAE,GAAG,CAAC,CAAC;GACrB,CAAC,CAAC;AACH,SAAO,CAAC,MAAM,CAAC,IAAI,CAAC,QAAQ,EAAE,UAAU,GAAG,EAAE;AAC3C,YAAQ,CAAC,MAAM,EAAE,GAAG,CAAC,CAAC;GACvB,CAAC,CAAC;CACJ,CAAA;;AAED,SAAS,MAAM,CAAC,MAAM,EAAE,GAAG,EAAE,EAAE,EAAE;AAC/B,QAAM,CAAC,IAAI,CAAC,cAAc,EAAE,GAAG,CAAC,CAAC;CAClC;;AAED,SAAS,QAAQ,CAAC,MAAM,EAAE,GAAG,EAAE,EAAE,EAAE;AACjC,QAAM,CAAC,IAAI,CAAC,gBAAgB,EAAE,GAAG,CAAC,CAAC;CACpC","file":"registry.socket.js","sourcesContent":["/**\n * Broadcast updates to client when the model changes\n */\n\n'use strict';\n\nvar Product = require('./product.model');\n\nexports.register = function(socket) {\n  Product.schema.post('save', function (doc) {\n    onSave(socket, doc);\n  });\n  Product.schema.post('remove', function (doc) {\n    onRemove(socket, doc);\n  });\n}\n\nfunction onSave(socket, doc, cb) {\n  socket.emit('product:save', doc);\n}\n\nfunction onRemove(socket, doc, cb) {\n  socket.emit('product:remove', doc);\n}"]}