{"version":3,"sources":["../../../../server/api/request/request.model.js"],"names":[],"mappings":"AAAA,YAAY,CAAC;;;;;;;;wBAGU,UAAU;;iCAEd,0BAA0B;;;;AAH7C,IAAI,QAAQ,GAAG,OAAO,CAAC,UAAU,CAAC,CAAC,YAAY,CAAC,OAAO,CAAC,UAAU,CAAC,CAAC,CAAC;;AAErE,IAAI,aAAa,GAAG,OAAO,CAAC,yBAAyB,CAAC,CAAC;;AAGvD,aAAa,CAAC,UAAU,CAAC,QAAQ,CAAC,gBAAgB,CAAC,+BAAO,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC;;AAGtE,IAAI,iBAAiB,GAAG,qBAAW;AACjC,aAAW,EAAE,MAAM;AACnB,OAAK,EAAE,MAAM;AACb,UAAQ,EAAE,MAAM;AAChB,OAAK,EAAE,MAAM;CACd,CAAC,CAAC;;AAEH,IAAI,aAAa,GAAG,qBAAW;AAC7B,eAAa,EAAE,MAAM;AACrB,YAAU,EAAE;AACV,QAAI,EAAE,iBAAO,KAAK,CAAC,QAAQ;AAC3B,OAAG,EAAE,MAAM;GACZ;AACD,OAAK,EAAE,CAAC,iBAAiB,CAAC;AAC1B,cAAY,EAAE,MAAM;AACpB,eAAa,EAAE,MAAM;AACrB,iBAAe,EAAE,MAAM;AACvB,eAAa,EAAE,MAAM;AACrB,cAAY,EAAE,MAAM;AACpB,eAAa,EAAE,MAAM;AACrB,iBAAe,EAAE,MAAM;AACvB,cAAY,EAAE,MAAM;AACpB,YAAU,EAAE,MAAM;AAClB,WAAS,EAAE,MAAM;AACjB,WAAS,EAAE;AACT,QAAI,EAAE,OAAO;AACb,eAAS,KAAK;GACf;AACD,SAAO,EAAE;AACP,QAAI,EAAE,IAAI;AACV,eAAS,IAAI,CAAC,GAAG;GAClB;CACF,CAAC,CAAC;;AAEH,aAAa,CAAC,MAAM,CAAC,aAAa,CAAC,MAAM,EAAE;AACzC,OAAK,EAAE,SAAS;AAChB,OAAK,EAAE,eAAe;AACtB,SAAO,EAAE,MAAM;AACf,aAAW,EAAE,CAAC;CACf,CAAC,CAAC;;qBAEY,QAAQ,CAAC,KAAK,CAAC,SAAS,EAAE,aAAa,CAAC","file":"request.model.js","sourcesContent":["'use strict';\n\nvar mongoose = require('bluebird').promisifyAll(require('mongoose'));\nimport { Schema } from 'mongoose';\nvar autoIncrement = require('mongoose-auto-increment');\nimport config from '../../config/environment';\n\nautoIncrement.initialize(mongoose.createConnection(config.mongo.uri));\n\n\nvar RequestItemSchema = new Schema({\n  description: String,\n  price: Number,\n  quantity: Number,\n  total: Number\n});\n\nvar RequestSchema = new Schema({\n  requestNumber: String,\n  customerId: {\n    type: Schema.Types.ObjectId,\n    ref: \"User\"\n  },\n  items: [RequestItemSchema],\n  customerName: String,\n  customerEmail: String,\n  customerAddress: String,\n  customerPhone: String,\n  customerCity: String,\n  customerState: String,\n  customerCountry: String,\n  listSubTotal: Number,\n  listCharge: Number,\n  listTotal: Number,\n  processed: {\n    type: Boolean,\n    default: false\n  },\n  created: {\n    type: Date,\n    default: Date.now\n  }\n});\n\nRequestSchema.plugin(autoIncrement.plugin, {\n  model: 'Request',\n  field: 'requestNumber',\n  startAt: 700000,\n  incrementBy: 1\n});\n\nexport default mongoose.model('Request', RequestSchema);\n"]}