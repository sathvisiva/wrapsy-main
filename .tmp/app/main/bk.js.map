{"version":3,"sources":["../../../client/app/main/bk.js"],"names":[],"mappings":"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","file":"bk.js","sourcesContent":["'use strict';\n\n(function() {\n\n  class MainController {\n\n    constructor($http, $scope, $timeout, socket, Catalog, Product, ngCart,$state,$stateParams,$rootScope, RegistryService, $window) {\n\n      $scope.state = $state.current\n      $scope.params = $stateParams;\n      $scope.registryId = $scope.params.registryId;\n      $scope.registrytitle = $scope.params.registryTitle;\n\n      $scope.registrydata = RegistryService.getregistry();\n\n      console.log(RegistryService.getregistry())\n      \n      $scope.addtoRegistry = function(productId){\n        var result = { id:productId, registryId: $scope.registryId, registryTitle:$scope.registrytitle };\n        $state.go('product', result);\n      }\n\n      $scope.buynow = function(link){\n        $window.open(link, '_blank');\n      }\n\n      this.featuredBannerA = [{\n        'img': 'assets/img/banner/banner-21.jpg',\n        'link': '#'\n      }, {\n        'img': 'assets/img/banner/banner-22.jpg',\n        'link': '#'\n      }];\n\n      this.featuredBannerB = {\n        'img': 'assets/img/banner/banner-24.jpg',\n        'link': '/category/fashion'\n      };\n\n      this.sliderAreaBanner = {\n        'img': 'assets/img/banner/banner-28.jpg',\n        'link': '/category/home'\n      };\n\n      this.limitedTimeFeatured = false;\n\n      var featuredCategoriesA = [{\n        'slug': 'computers-and-accessories',\n        'banner': {\n          'img': 'assets/img/banner/banner-31.jpg',\n          'link': '/category/computers-and-accessories'\n        }\n      }, {\n        'slug': 'fashion',\n        'banner': {\n          'img': 'assets/img/banner/banner-32.jpg',\n          'link': '/category/fashion'\n        }\n      }];\n\n      var featuredCategoriesB = [{\n          'slug': 'home-and-kitchen',\n          'banner': {\n            'img': 'assets/img/banner/banner-33.jpg',\n            'link': '/category/home-and-kitchen'\n          }\n        }, {\n          'slug': 'art-works',\n          'banner': {\n            'img': 'assets/img/banner/banner-34.jpg',\n            'link': '/category/art-works'\n          }\n        }\n        /*, {\n                'slug': 'laptops',\n                'banner': {\n                  'img': 'assets/img/banner/banner-35.jpg',\n                  'link': '/category/laptops'\n                }\n              }*/\n      ];\n\n      this.$http = $http;\n      this.awesomeThings = [];\n      self = this;\n\n     /* $http.get('/api/things').then(response => {\n        this.awesomeThings = response.data;\n        socket.syncUpdates('thing', this.awesomeThings);\n      });*/\n\n      let featuredCategoriesDetailsA = [];\n      _.each(featuredCategoriesA, function(o) {\n        Catalog.get({ id: o.slug }, function(parentCat) {\n          let a = {\n            title: parentCat.name,\n            slug: parentCat.slug,\n            banner: o.banner,\n            firstChildren: []\n          };\n          if (parentCat.children.length > 0) {\n            _.each(parentCat.children, function(c) {\n              Product.catalog({ id: c.slug, limit: 10 }, function(prod) {\n                prod = _.map(prod, rP => _.extend(rP, { averageRating: getAverageRating(rP) }));\n                let p = {\n                  title: c.name,\n                  slug: c.slug,\n                  products: prod\n                };\n                a.firstChildren.push(p);\n              });\n            })\n          } else {\n            Product.catalog({ id: o.slug, limit: 10 }, function(prod) {\n              prod = _.map(prod, rP => _.extend(rP, { averageRating: getAverageRating(rP) }));\n              let p = {\n                title: o.name,\n                slug: o.slug,\n                products: prod\n              };\n              a.firstChildren.push(p);\n            });\n          }\n          featuredCategoriesDetailsA.push(a);\n          self.featuredCategoriesDetailsA = featuredCategoriesDetailsA;\n        });\n      });\n\n      let featuredCategoriesDetailsB = [];\n      _.each(featuredCategoriesB, function(o) {\n        Catalog.get({ id: o.slug }, function(parentCat) {\n          let a = {\n            title: parentCat.name,\n            slug: parentCat.slug,\n            banner: o.banner,\n            firstChildren: []\n          };\n          if (parentCat.children.length > 0) {\n            _.each(parentCat.children, function(c) {\n              Product.catalog({ id: c.slug, limit: 10 }, function(prod) {\n                prod = _.map(prod, rP => _.extend(rP, { averageRating: getAverageRating(rP) }));\n                let p = {\n                  title: c.name,\n                  slug: c.slug,\n                  products: prod\n                };\n                a.firstChildren.push(p);\n              });\n            })\n          } else {\n            Product.catalog({ id: o.slug, limit: 10 }, function(prod) {\n              prod = _.map(prod, rP => _.extend(rP, { averageRating: getAverageRating(rP) }));\n              let p = {\n                title: o.name,\n                slug: o.slug,\n                products: prod\n              };\n              a.firstChildren.push(p);\n            });\n          }\n          featuredCategoriesDetailsB.push(a);\n          self.featuredCategoriesDetailsB = featuredCategoriesDetailsB;\n        });\n      });\n\n\n      _.each(featuredCategoriesA, function(slug) {\n        self.featuredCategoriesDetailsA = Catalog.get({ id: slug });\n      })\n    }\n  }\n\n  angular.module('bhcmartApp')\n    .controller('MainController', MainController);\n\n})();\n\nlet getAverageRating = p => Math.ceil(_.reduce(p.reviews, (a, b) => a + b.rating, 0) / p.reviews.length);\n"]}