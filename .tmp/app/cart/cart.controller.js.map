{"version":3,"sources":["../../../client/app/cart/cart.controller.js"],"names":[],"mappings":"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","file":"cart.controller.js","sourcesContent":["'use strict';\n\nangular.module('bhcmartApp')\n.controller('CartCtrl', function($scope, Modal, ngCart, $state,$mdDialog,Voucher,$uibModal) {\n\n\n  console.log(ngCart.getVouchers());\n  console.log(ngCart.getVoucherAmount());\n  console.log(ngCart.getShipping());\n  \n\n\n  $scope.clearCart = function(ev) {\n    var confirm = $mdDialog.confirm()\n    .title('Confirm')\n    .textContent('Would you like to remove all the items from your cart' )\n    .ariaLabel('remove product')\n    .targetEvent(ev)\n    .ok('Please do it!')\n    .cancel('cancel');\n\n    $mdDialog.show(confirm).then(function() {\n     ngCart.empty()\n   }, function() {\n\n   });\n\n  }\n\n  $scope.calculateGST = function(gst,qty,amt){\n   return (parseInt(gst)*parseInt(qty)*parseInt(amt))/100;\n };\n\n $scope.addVoucher = function(ev){\n  if($scope.isLoggedIn()){\n   var modalInstance = $uibModal.open({\n    templateUrl : 'app/voucher/redeem-voucher.html',\n    controller: 'VoucherRedeemCtrl',\n    size :'md',\n    resolve: {\n      amount: function () {\n       return ngCart.totalCost();\n     }\n   }\n })\n   .result.then(function(result) {\n    console.log(result)\n    ngCart.addVoucher(result);\n    console.log(ngCart.getVouchers());\n    console.log(ngCart.getVoucherAmount());\n    console.log(ngCart.getPayable());\n  }, function() {\n  // Cancel\n});\n }else{\n  $scope.data = {'event' : 'login'};\n  $scope.login(ev, $scope.data);\n\n}\n}\n\n$scope.removeProduct = function(ev,productName , product) {\n  var confirm = $mdDialog.confirm()\n  .title('Confirm')\n  .textContent('Would you like to remove' + productName + 'from your cart' )\n  .ariaLabel('remove product')\n  .targetEvent(ev)\n  .ok('Please do it!')\n  .cancel('cancel');\n\n  $mdDialog.show(confirm).then(function() {\n   ngCart.removeItemById(product.getId());\n }, function() {\n\n });\n\n}\n\n\n\n/*ui-sref=\"checkout\"*/\n\n$scope.checkout = function(ev){\n  if($scope.isLoggedIn()){\n    console.log(ngCart.getVouchers());\n    /*if(ngCart.getVouchers().length == 0 ){\n      ngCart.addVoucher('null');\n    }*/\n\n    $state.go('checkout');\n  }else{\n   $scope.data = {'state' : 'checkout' , 'event' : 'login'};\n   $scope.login(ev, $scope.data);\n }\n}\n\n});\n"]}