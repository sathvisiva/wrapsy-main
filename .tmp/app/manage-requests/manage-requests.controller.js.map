{"version":3,"sources":["../../../client/app/manage-requests/manage-requests.controller.js"],"names":[],"mappings":"AAAA,YAAY,CAAC;;AAEb,OAAO,CAAC,MAAM,CAAC,YAAY,CAAC,CACzB,UAAU,CAAC,oBAAoB,EAAE,CAAC,QAAQ,EAAE,OAAO,EAAE,SAAS,EAAE,MAAM,EAAE,UAAS,MAAM,EAAE,KAAK,EAAE,OAAO,EAAE,IAAI,EAAE;AAC9G,MAAI,IAAI,GAAG,IAAI,CAAC,cAAc,EAAE,CAAC;AACjC,QAAM,CAAC,OAAO,GAAG,IAAI,CAAC,OAAO,CAAC,OAAO,CAAC,CAAC;AACvC,QAAM,CAAC,QAAQ,GAAG,EAAE,CAAC;;AAGnB,SAAO,CAAC,KAAK,CAAC,UAAS,QAAQ,EAAE;AAC/B,WAAO,CAAC,GAAG,CAAC,QAAQ,CAAC,CAAA;AACrB,UAAM,CAAC,QAAQ,GAAG,QAAQ,CAAA;;AAE1B,UAAM,CAAC,WAAW,GAAG,CAAC,CAAC;AACvB,UAAM,CAAC,UAAU,GAAG,MAAM,CAAC,QAAQ,CAAC,MAAM,CAAC;AAC3C,UAAM,CAAC,YAAY,GAAG,EAAE,CAAC;AACzB,UAAM,CAAC,SAAS,GAAG,IAAI,CAAC,IAAI,CAAC,MAAM,CAAC,UAAU,GAAG,MAAM,CAAC,YAAY,CAAC,CAAC;GACvE,CAAC,CAAC;;AAGL,QAAM,CAAC,aAAa,GAAG,KAAK,CAAC,OAAO,UAAO,CAAC,UAAS,CAAC,EAAE;AACtD,KAAC,CAAC,OAAO,CAAC,CAAC,CAAC,GAAG,EAAE,UAAS,IAAI,EAAE;AAC9B,aAAO,CAAC,GAAG,CAAC,IAAI,CAAC,CAAA;AACjB,YAAM,CAAC,QAAQ,CAAC,MAAM,CAAC,MAAM,CAAC,QAAQ,CAAC,OAAO,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;KACvD,CAAC,CAAA;GACH,CAAC,CAAC;;AAEH,QAAM,CAAC,cAAc,GAAG,KAAK,CAAC,OAAO,CAAC,OAAO,CAAC,UAAS,CAAC,EAAE;AACxD,KAAC,CAAC,SAAS,GAAG,CAAC,CAAC,SAAS,GAAG,KAAK,GAAG,IAAI,CAAC;AACzC,KAAC,CAAC,OAAO,CAAC,UAAS,IAAI,EAAE;AACvB,aAAO,CAAC,GAAG,CAAC,IAAI,CAAC,CAAA;KAClB,CAAC,CAAA;GACH,CAAC,CAAC;CACJ,CAAC,CAAC,CAAA","file":"manage-requests.controller.js","sourcesContent":["'use strict';\n\nangular.module('bhcmartApp')\n  .controller('ManageRequestsCtrl', ['$scope', 'Modal', 'Request', 'Auth', function($scope, Modal, Request, Auth) {\n    let user = Auth.getCurrentUser();\n    $scope.isAdmin = Auth.hasRole('admin');\n    $scope.requests = [];\n\n    \n      Request.query(function(requests) {\n        console.log(requests)\n        $scope.requests = requests\n          // pagination controls\n        $scope.currentPage = 1;\n        $scope.totalItems = $scope.requests.length;\n        $scope.itemsPerPage = 10; // items per page\n        $scope.noOfPages = Math.ceil($scope.totalItems / $scope.itemsPerPage);\n      });\n \n\n    $scope.deleteRequest = Modal.confirm.delete(function(o) {\n      o.$remove(o._id, function(resp) {\n        console.log(resp)\n        $scope.requests.splice($scope.requests.indexOf(o), 1);\n      })\n    });\n\n    $scope.deliverRequest = Modal.confirm.process(function(o) {\n      o.processed = o.processed ? false : true;\n      o.$update(function(resp) {\n        console.log(resp)\n      })\n    });\n  }])\n"]}