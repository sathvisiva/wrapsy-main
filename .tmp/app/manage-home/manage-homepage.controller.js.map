{"version":3,"sources":["../../../client/app/manage-home/manage-homepage.controller.js"],"names":[],"mappings":"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","file":"manage-homepage.controller.js","sourcesContent":["'use strict';\n\nangular.module('bhcmartApp')\n.controller('ManageHomePageCtrl', ['$scope', 'Home', 'Modal','Catalog',\n  function($scope, Home, Modal,Catalog) {\n\n\n   Home.GethompageImg(function(resp) {\n    console.log('images', resp);\n    $scope.homeImages = resp;\n  }, function(err) {\n    console.log(err);\n    $scope.message == err;\n  });\n\n   Catalog.query(function(categories) {\n    $scope.categories = categories;\n\n  });\n\n\n   Home.GetpopularCat(function(resp) {\n    console.log('images', resp);\n    $scope.popularcat = resp;\n  }, function(err) {\n    console.log(err);\n    $scope.message == err;\n  });\n\n\n\n   $scope.deleteImage = function(id) {\n    Home.DelhompageImg({id : id }, function(resp){\n      console.log(resp)\n    })\n  }\n\n  $scope.deletepopCat = function(id) {\n    Home.DelpopularCat({id : id }, function(resp){\n      console.log(resp)\n    })\n  }\n}\n])\n\n\n.controller('ManageHomePageImgAddCtrl', ['$scope', '$state', 'Home', '$stateParams','Upload',\n  function($scope, $state, Home, $stateParams, Upload) {\n\n    $scope.upload = function(file) {\n      if (file) {\n        Upload.upload({\n          url: '/api/uploads',\n          data: { file: file }\n        }).then(function(resp) {\n          if ($scope.homeimage) {\n\n            $scope.homeimage.imageUrl = resp.data.url;\n\n          } else {\n            $scope.homeimage = { imageUrl: resp.data.imageUrl }\n          }\n          console.log(resp.data);\n        }, function(resp) {\n          $scope.errorMsg = resp.status + ': ' + resp.data;\n        }, function(evt) {\n          var progressPercentage = parseInt(100.0 * evt.loaded / evt.total);\n            // console.log('progress: ' + progressPercentage + '% ' + evt.config.data.file.name);\n          });\n      };\n    }\n\n    $scope.save = function(form) {\n      if (form.$valid) {\n        console.log($scope.homeimage)\n        Home.createhompageImg($scope.homeimage, function(resp) {\n          console.log('created', resp);\n          $state.go('adminconsole.manage-categories');\n        }, function(err) {\n          console.log(err);\n          $scope.message == err;\n        });\n      }\n    }\n  }\n  ])\n\n\n.controller('ManagePopularCategoriesAddCtrl', ['$scope', '$state', 'Home', '$stateParams','Catalog',\n  function($scope, $state, Home, $stateParams, Catalog) {\n\n\n    $scope.upload = function(file) {\n      if (file) {\n        Upload.upload({\n          url: '/api/uploads',\n          data: { file: file }\n        }).then(function(resp) {\n          if ($scope.popimage) {\n\n            $scope.popimage.imageUrl = resp.data.url;\n\n          } else {\n            $scope.popimage = { imageUrl: resp.data.imageUrl }\n          }\n          console.log(resp.data);\n        }, function(resp) {\n          $scope.errorMsg = resp.status + ': ' + resp.data;\n        }, function(evt) {\n          var progressPercentage = parseInt(100.0 * evt.loaded / evt.total);\n            // console.log('progress: ' + progressPercentage + '% ' + evt.config.data.file.name);\n          });\n      };\n    }\n\n    Catalog.query(function(categories) {\n    $scope.categories = categories;\n\n  });  \n\n    $scope.save = function(form) {\n      if (form.$valid) {\n        console.log($scope.popimage)\n        Home.createpopularCat($scope.popimage, function(resp) {\n          console.log('created', resp);\n          $state.go('adminconsole.manage-features');\n        }, function(err) {\n          console.log(err);\n          $scope.message == err;\n        });\n      }\n    }\n  }\n  ]);\n"]}