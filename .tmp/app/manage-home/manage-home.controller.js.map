{"version":3,"sources":["../../../client/app/manage-home/manage-home.controller.js"],"names":[],"mappings":"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","file":"manage-home.controller.js","sourcesContent":["'use strict';\n\nangular.module('bhcmartApp')\n.controller('ManageHomeCtrl', ['$scope', '$state',  '$stateParams','Home','Catalog',\n\tfunction($scope, $state,  $stateParams, Home, Catalog) {\n\n\t\t$scope.homeimages = function(){\n\t\t\tHome.gethompageImg(function(resp) {\n\t\t\t\tconsole.log('images', resp);\n\t\t\t\t$scope.homeImages = resp;\n\t\t\t}, function(err) {\n\t\t\t\tconsole.log(err);\n\t\t\t\t$scope.message == err;\n\t\t\t});\n\t\t}\n\n   $scope.popImages = function(){\n    Home.getpopularCat(function(resp) {\n     console.log('images', resp);\n     $scope.popularcat = resp;\n   }, function(err) {\n     console.log(err);\n     $scope.message == err;\n   });\n  }\n\n  $scope.homeimages();\n  $scope.popImages();\n\n\n  Catalog.query(function(categories) {\n   $scope.categories = categories;\n\n });\n\n\n\n\n\n  $scope.deleteImage = function(id) {\n   Home.delhompageImg({id : id }, function(resp){\n    $scope.homeimages();\n  })\n }\n\n $scope.deletepopCat = function(id) {\n   Home.delpopImg({id : id }, function(resp){\n    $scope.popImages();\n  })\n }\n\n\n}\n])\n.controller('ManageHomePageImgAddCtrl', ['$scope', '$state', 'Home', '$stateParams','Upload',\n\tfunction($scope, $state, Home, $stateParams, Upload) {\n\n\n\t\t$scope.upload = function(file, errfile) {\n\n\t\t\tif (file) {\n\t\t\t\tUpload.upload({\n\t\t\t\t\turl: '/api/uploads',\n\t\t\t\t\tdata: { file: file }\n\t\t\t\t}).then(function(resp) {\n\t\t\t\t\tif ($scope.homeimage) {\n\n\t\t\t\t\t\t$scope.homeimage.imageUrl = resp.data.url;\n\n\t\t\t\t\t} else {\n\t\t\t\t\t\t$scope.homeimage = { imageUrl: resp.data.imageUrl }\n\t\t\t\t\t}\n\t\t\t\t\tconsole.log(resp.data);\n\t\t\t\t}, function(resp) {\n\t\t\t\t\t$scope.errorMsg = resp.status + ': ' + resp.data;\n\t\t\t\t}, function(evt) {\n\t\t\t\t\tvar progressPercentage = parseInt(100.0 * evt.loaded / evt.total);\n\n        });\n\t\t\t};\n\t\t}\n\n\n\n    $scope.save = function(form) {\n\n     if (form.$valid) {\n      console.log($scope.homeimage)\n      Home.createhompageImg($scope.homeimage, function(resp) {\n       console.log('created', resp);\n       $state.go('admin.managehome');\n     }, function(err) {\n       console.log(err);\n       $scope.message == err;\n     });\n    }\n  }\n}\n])\n\n.controller('ManagePopularCategoriesAddCtrl', ['$scope', '$state', 'Home', '$stateParams','Catalog','Upload',\n  function($scope, $state, Home, $stateParams, Catalog,Upload) {\n\n\n    $scope.upload = function(file, errFiles) {\n      if (file) {\n        Upload.upload({\n          url: '/api/uploads',\n          data: { file: file }\n        }).then(function(resp) {\n          if ($scope.popimage) {\n\n            $scope.popimage.imageUrl = resp.data.url;\n\n          } else {\n            $scope.popimage = { imageUrl: resp.data.imageUrl }\n          }\n          console.log(resp.data);\n        }, function(resp) {\n          $scope.errorMsg = resp.status + ': ' + resp.data;\n        }, function(evt) {\n          var progressPercentage = parseInt(100.0 * evt.loaded / evt.total);\n            // console.log('progress: ' + progressPercentage + '% ' + evt.config.data.file.name);\n          });\n      };\n    }\n\n    Catalog.query(function(categories) {\n      $scope.categories = categories;\n\n    });  \n\n    $scope.save = function(form) {\n      if (form.$valid) {\n        console.log($scope.popimage)\n        Home.createpopularCat($scope.popimage, function(resp) {\n          console.log('created', resp);\n          $state.go('admin.managehome');\n        }, function(err) {\n          console.log(err);\n          $scope.message == err;\n        });\n      }\n    }\n  }\n  ]);\n\n"]}