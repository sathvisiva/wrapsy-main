{"version":3,"sources":["../../../client/app/home/home.controller.js"],"names":[],"mappings":"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","file":"home.controller.js","sourcesContent":["'use strict';\n\n(function() {\n\n  class HomeController {\n\n\n    constructor($http, $scope, $timeout, Catalog, Product,$mdDialog,Auth, $state, Registry, toaster, Home) {\n      $scope.isLoggedIn = Auth.isLoggedIn;\n      $scope.slides = [];\n      $scope.active = 0;\n      $scope.myInterval = 3000;\n      $scope.noWrapSlides = false;\n\n      $scope.homepageimgs = Home.gethompageImg(function(res){\n        $scope.slides =  res;\n        console.log($scope.slides)\n      })\n\n      $scope.createRegistry = function(ev){\n        if($scope.isLoggedIn()){\n          $state.go('createregistry.registryType');\n        }else{\n          $scope.data = {'state' : 'createregistry.registryType' , 'event' : 'login'};\n          $scope.login(ev, $scope.data);\n        }\n      }\n\n      Home.getpopularCat(function(resp) {\n       console.log('images', resp);\n       $scope.popularcat = resp;\n     }, function(err) {\n       console.log(err);\n       $scope.message == err;\n     });\n\n      $scope.login = function(ev,data) {\n        $mdDialog.show({\n          controller: 'LoginController'\n          , templateUrl: 'app/account/login/login.html'\n          , parent: angular.element(document.body)\n          , targetEvent: ev\n          \n          , clickOutsideToClose: true\n          , locals: {\n            dataToPass: data\n          }\n        });\n\n        $scope.$watch(function () {\n          return $mdMedia('xs') || $mdMedia('sm');\n        }, function (wantsFullScreen) {\n          $scope.customFullscreen = (wantsFullScreen === true);\n        });\n      }\n\n      $scope.selectRegistryType = function(){\n\n        if(!$scope.isLoggedIn()){\n          $state.go('login');\n        }\n        else{\n          var modalInstance = $uibModal.open({\n           templateUrl : 'app/home/registryType.html',\n           controller: 'RegistryTypeCtrl',\n           size :'md'\n         })\n        }\n      }\n\n      $scope.myregistries = function(){\n\n        var q = {count:{username:Auth.getCurrentUser().name}};\n        q._id = 1;\n\n        Registry.query(q,function(data) {\n          console.log(data)\n          if(data.length == 1){\n            $state.go('manageregistry', {id: data[0]._id});\n          }else{\n            $scope.openregistryList(data);\n          }\n\n        });\n      }\n\n      var q = {where:{username:'admin@wrapsytest.com'}};\n      $scope.sampleregistries =  Registry.query(q);\n      console.log(\"sample registries\");\n      console.log($scope.sampleregistries)\n\n      var q = {where:{featured:true}};\n      $scope.products = Product.query(q,function(products){\n\n        $scope.products = products;\n        console.log($scope.products);\n      });\n\n    }\n  }\n\n  angular.module('bhcmartApp')\n  .controller('HomeController', HomeController);\n\n})();\n\n"]}