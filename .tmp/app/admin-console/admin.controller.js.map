{"version":3,"sources":["../../../client/app/admin-console/admin.controller.js"],"names":[],"mappings":"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","file":"admin.controller.js","sourcesContent":["'use strict';\n\nangular.module('bhcmartApp')\n.controller('FeaturedProductsCtrl', ['$scope', 'Product', 'Modal',\n  function($scope, Product, Modal) {\n\n    Product.query(function(products){\n      console.log(products)\n      $scope.products = products;\n      $scope.currentPage = 1;\n      $scope.totalItems = $scope.products.length;\n        $scope.itemsPerPage = 10; // items per page\n        $scope.noOfPages = Math.ceil($scope.totalItems / $scope.itemsPerPage);\n\n      })\n\n\n    $scope.addtoFeaturedProducts = function(id,p){\n      console.log(id);\n      Product.addfeaturedPdt({id:id},p).$promise.then(function(products) {\n        $scope.products = products;\n        $scope.currentPage = 1;\n        $scope.totalItems = $scope.products.length;\n        $scope.itemsPerPage = 10; // items per page\n        $scope.noOfPages = Math.ceil($scope.totalItems / $scope.itemsPerPage);\n      });\n\n\n    }\n\n    $scope.removefromFeaturedProducts = function(id,p){\n      console.log(id);\n      Product.removefeaturedPdt({id:id},p).$promise.then(function(products) {\n        $scope.products = products;\n        $scope.currentPage = 1;\n        $scope.totalItems = $scope.products.length;\n        $scope.itemsPerPage = 10; // items per page\n        $scope.noOfPages = Math.ceil($scope.totalItems / $scope.itemsPerPage);\n      });\n\n\n    }\n\n /*     Product.query(function(products) {\n        $scope.products = products;\n        // pagination controls\n        $scope.currentPage = 1;\n        $scope.totalItems = $scope.products.length;\n        $scope.itemsPerPage = 10; // items per page\n        $scope.noOfPages = Math.ceil($scope.totalItems / $scope.itemsPerPage);\n      });*/\n\n      $scope.deleteFeature = Modal.confirm.delete(function(f) {\n        Product.destroyFeature({id:f._id},f).$promise.then(function(res) {\n          console.log(res)\n          $scope.features.splice($scope.features.indexOf(f), 1);\n        });\n\n      /*  f.$remove(f._id, function(resp) {\n          console.log(resp)\n          \n        })*/\n      });\n    }\n    ])\n.controller('AdminCtrl', function($scope,Auth, Modal, ngCart, $state,$mdDialog,Order, Product, Catalog, User, $mdSidenav) {\n\n $scope.isLoggedIn = Auth.isLoggedIn;\n $scope.isAdmin = Auth.isAdmin;\n $scope.getCurrentUser = Auth.getCurrentUser;\n\n \n\n /*$scope.registry._id = $stateParams.id*/\n\n $scope.adminPage = function(state){\n  $scope.state = 'adminconsole.'+state;\n  $state.go($scope.state);\n}\n\n\nvar q= {};\nq.where = {};\nvar f =[];\nf.push({'created' : { $gte: moment().startOf('week').toDate() }});\nq.where = {f};\n\n$scope.filter = {};\n$scope.filter.startday = moment().startOf('week').toDate();\n$scope.filter.endOfWeek = moment().endOf('week').toDate();\nconsole.log($scope.filter);\n\nOrder.countorders(q,function(orders) {\n  $scope.orderscount = orders[0].count;\n  console.log($scope.orderscount);\n});\n\nProduct.productCount(function(product) {\n  $scope.productCount = product[0].count;  \n});\n\nCatalog.catalogCount(function(catalog) {\n  $scope.catalogCount = catalog[0].count;  \n});\n\nUser.userCount(function(user) {\n  $scope.userCount = user[0].count;  \n});\n\n$scope.features = Product.indexFeatures();\nconsole.log($scope.features.length)\n\n\n\n\n\n\n$scope.orderstatus = [\n{id : 1, status : \"Processed\"},\n{id : 2, status : \"Complete\"},\n{id : 3, status : \"Open\"},\n{id : 3, status : \"Canceled\"}\n];\n\n$scope.viewOrders = function() {\n  Order.query(function(orders) {\n    $scope.orders = orders;\n        // pagination controls\n        $scope.currentPage = 1;\n        $scope.totalItems = $scope.orders.length;\n        $scope.itemsPerPage = 10; // items per page\n        $scope.noOfPages = Math.ceil($scope.totalItems / $scope.itemsPerPage);\n      });\n  console.log($scope.orders);\n  $state.go('admin-console.orders');\n\n}\n\n\n\n$scope.removeProduct = function(ev,productName , product) {\n  var confirm = $mdDialog.confirm()\n  .title('Confirm')\n  .textContent('Would you like to remove' + productName + 'from your cart' )\n  .ariaLabel('remove product')\n  .targetEvent(ev)\n  .ok('Please do it!')\n  .cancel('cancel');\n\n  $mdDialog.show(confirm).then(function() {\n   ngCart.removeItemById(product.getId());\n }, function() {\n\n });\n\n}\n\n$scope.checkout = function(ev){\n  if($scope.isLoggedIn()){\n   $state.go('checkout');\n }else{\n   $scope.data = {'state' : 'checkout' , 'event' : 'login'};\n   $scope.login(ev, $scope.data);\n }\n}\n\n});\n"]}