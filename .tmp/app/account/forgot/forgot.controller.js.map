{"version":3,"sources":["../../../../client/app/account/forgot/forgot.controller.js"],"names":[],"mappings":"AAAA,YAAY,CAAC;;;;AAEb,CAAC,YAAW;MAEJ,wBAAwB,GAGjB,SAHP,wBAAwB,CAGhB,KAAK,EAAE,MAAM,EAAE,QAAQ,EAAE,IAAI,EAAE,MAAM,EAAC,IAAI,EAAE,OAAO,EAAE,SAAS,EAAE,QAAQ,EAAE;0BAHlF,wBAAwB;;AAI1B,UAAM,CAAC,IAAI,GAAG,EAAE,CAAC;AACjB,UAAM,CAAC,MAAM,GAAG,EAAE,CAAC;AACnB,UAAM,CAAC,SAAS,GAAG,KAAK,CAAC;AACzB,UAAM,CAAC,WAAW,GAAG,KAAK,CAAC;AAC3B,UAAM,CAAC,SAAS,GAAG,KAAK,CAAC;;AAKzB,UAAM,CAAC,cAAc,GAAG,UAAS,IAAI,EAAE;AACrC,YAAM,CAAC,SAAS,GAAG,IAAI,CAAC;AACxB,YAAM,CAAC,IAAI,CAAC,KAAK,GAAG,sBAAsB,CAAA;AAC1C,UAAI,IAAI,CAAC,MAAM,EAAE;AACf,eAAO,CAAC,GAAG,CAAC,SAAS,CAAC,CAAA;AACtB,YAAI,CAAC,cAAc,CAAC,MAAM,CAAC,IAAI,CAAC,KAAK,EAAE,MAAM,CAAC,IAAI,CAAC,WAAW,CAAC,CAC9D,IAAI,CAAC,YAAM;AACV,iBAAO,CAAC,GAAG,CAAC,SAAS,CAAC,CAAC;AACvB,gBAAM,CAAC,OAAO,GAAG,IAAI,CAAA;AACrB,gBAAM,CAAC,cAAc,GAAG,oCAAoC,CAAC;SAC9D,CAAC,SACI,CAAC,UAAA,GAAG,EAAI;AACZ,iBAAO,CAAC,GAAG,CAAC,GAAG,CAAC,CAAA;AAChB,cAAI,KAAK,GAAG,GAAG,CAAC,IAAI,CAAC;AACrB,cAAG,KAAK,CAAC,QAAQ,CAAC,QAAQ,CAAC,EAAC;AAC1B,kBAAM,CAAC,WAAW,GAAG,IAAI,CAAC;WAC3B,MAAK,IAAG,KAAK,CAAC,QAAQ,CAAC,SAAS,CAAC,EAAE;AAClC,kBAAM,CAAC,SAAS,GAAG,IAAI,CAAC;WACzB;SAEF,CAAC,CAAC;OAGJ;KACF,CAAA;;AAGD,UAAM,CAAC,KAAK,GAAG,UAAS,EAAE,EAAC,IAAI,EAAE;AAC/B,YAAM,CAAC,EAAE,CAAC,MAAM,CAAC,CAAC;AAClB,eAAS,CAAC,IAAI,CAAC;AACb,kBAAU,EAAE,iBAAiB;AAC3B,mBAAW,EAAE,8BAA8B;AAC3C,cAAM,EAAE,OAAO,CAAC,OAAO,CAAC,QAAQ,CAAC,IAAI,CAAC;AACtC,mBAAW,EAAE,EAAE;;AAEf,2BAAmB,EAAE,IAAI;AACzB,cAAM,EAAE;AACR,oBAAU,EAAE,EAAC,MAAM,EAAG,IAAI,EAAE,KAAK,EAAG,MAAM,EAAC;SAC5C;OACF,CAAC,CAAC;;AAEH,YAAM,CAAC,MAAM,CAAC,YAAY;AACxB,eAAO,QAAQ,CAAC,IAAI,CAAC,IAAI,QAAQ,CAAC,IAAI,CAAC,CAAC;OACzC,EAAE,UAAU,eAAe,EAAE;AAC5B,cAAM,CAAC,gBAAgB,GAAI,eAAe,KAAK,IAAI,AAAC,CAAC;OACtD,CAAC,CAAC;KACJ,CAAA;;AAED,UAAM,CAAC,aAAa,GAAG,UAAS,IAAI,EAAE;AACpC,YAAM,CAAC,WAAW,GAAG,KAAK,CAAC;AAC3B,YAAM,CAAC,SAAS,GAAG,KAAK,CAAC;;AAEzB,UAAI,IAAI,CAAC,MAAM,EAAE;;AAEf,YAAI,CAAC,cAAc,CAAC,MAAM,CAAC,IAAI,CAAC,KAAK,CAAC,CACrC,IAAI,CAAC,YAAM;;AAEV,gBAAM,CAAC,OAAO,GAAG,IAAI,CAAC;AACtB,gBAAM,CAAC,cAAc,GAAG,+DAA+D,CAAC;SACzF,CAAC,SACI,CAAC,UAAA,GAAG,EAAI;AACZ,cAAI,KAAK,GAAG,GAAG,CAAC,IAAI,CAAC;AACrB,cAAG,KAAK,CAAC,QAAQ,CAAC,QAAQ,CAAC,EAAC;AAC1B,kBAAM,CAAC,WAAW,GAAG,IAAI,CAAC;WAC3B,MAAK,IAAG,KAAK,CAAC,QAAQ,CAAC,SAAS,CAAC,EAAE;AAClC,kBAAM,CAAC,SAAS,GAAG,IAAI,CAAC;WACzB;SAEF,CAAC,CAAC;OAEJ;KACF,CAAA;;AAED,UAAM,CAAC,UAAU,GAAG,UAAS,QAAQ,EAAE;AACrC,aAAO,CAAC,QAAQ,CAAC,IAAI,GAAG,QAAQ,GAAG,QAAQ,CAAC;KAC7C,CAAC;GAKH;;AAGH,SAAO,CAAC,MAAM,CAAC,YAAY,CAAC,CAC3B,UAAU,CAAC,0BAA0B,EAAE,wBAAwB,CAAC,CAAC;CAEnE,CAAA,EAAG,CAAC","file":"forgot.controller.js","sourcesContent":["'use strict';\n\n(function() {\n\n  class ForgotPasswordController {\n\n\n    constructor($http, $scope, $timeout, Auth, $state,User, $window, $mdDialog, $mdMedia) {\n      $scope.user = {};\n      $scope.errors = {};\n      $scope.submitted = false;\n      $scope.socialerror = false;\n      $scope.registerd = false;\n\n\n\n\n      $scope.changePassword = function(form) {\n        $scope.submitted = true;\n        $scope.user.email = 'sathvisiva@gmail.com'\n        if (form.$valid) {\n          console.log(\"insiede\")\n          Auth.changePassword($scope.user.email, $scope.user.newPassword)\n          .then(() => {\n            console.log(\"success\");\n            $scope.message = true\n            $scope.successMessage = 'Your Password successfully changed';\n          })\n          .catch(err => {\n            console.log(err)\n            var error = err.data;\n            if(error.includes('Social')){\n              $scope.socialerror = true;\n            }else if(error.includes('Invalid')) {\n              $scope.registerd = true;\n            }\n            \n          });\n\n\n        }\n      }\n\n\n      $scope.login = function(ev,data) {\n        $state.go('home');\n        $mdDialog.show({\n          controller: 'LoginController'\n          , templateUrl: 'app/account/login/login.html'\n          , parent: angular.element(document.body)\n          , targetEvent: ev\n\n          , clickOutsideToClose: true\n          , locals: {\n            dataToPass: {layout : data, state : \"home\"}\n          }\n        });\n\n        $scope.$watch(function () {\n          return $mdMedia('xs') || $mdMedia('sm');\n        }, function (wantsFullScreen) {\n          $scope.customFullscreen = (wantsFullScreen === true);\n        });\n      }\n      \n      $scope.ResetPassword = function(form) {\n        $scope.socialerror = false;\n        $scope.registerd = false;\n\n        if (form.$valid) {\n\n          Auth.forgotPassword($scope.user.email)\n          .then(() => {\n\n            $scope.message = true;\n            $scope.successMessage = \"you will receive an email with a link to reset your password.\";\n          })\n          .catch(err => {\n            var error = err.data;\n            if(error.includes('Social')){\n              $scope.socialerror = true;\n            }else if(error.includes('Invalid')) {\n              $scope.registerd = true;\n            }\n            \n          });\n\n        }\n      }\n\n      $scope.loginOauth = function(provider) {\n        $window.location.href = '/auth/' + provider;\n      };\n\n\n\n\n    }\n  }\n\n  angular.module('bhcmartApp')\n  .controller('ForgotPasswordController', ForgotPasswordController);\n\n})();\n\n\n\n\n\n\n"]}