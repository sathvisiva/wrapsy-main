{"version":3,"sources":["../../../client/app/vendors/vendors.controller.js"],"names":[],"mappings":"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","file":"vendors.controller.js","sourcesContent":["'use strict';\n\nangular.module('bhcmartApp')\n.controller('ManageVendorsCtrl', ['$scope', 'Vendor','$mdDialog',\n  function($scope, Vendor,$mdDialog) {\n\n    Vendor.query(function(vendor) {\n      $scope.vendor = vendor;\n      console.log(vendor)\n        // pagination controls\n        $scope.currentPage = 1;\n        $scope.totalItems = $scope.vendor.length;\n        $scope.itemsPerPage = 3; // items per page\n        $scope.noOfPages = Math.ceil($scope.totalItems / $scope.itemsPerPage);\n      });\n\n    $scope.propertyName = 'name';\n    $scope.reverse = true;\n\n    $scope.sortBy = function(propertyName) {\n      $scope.reverse = ($scope.propertyName === propertyName) ? !$scope.reverse : false;\n      $scope.propertyName = propertyName;\n    };\n\n   /* $scope.deleteVendor = Modal.confirm.delete(function(c) {\n\n      c.$remove(c._id, function(resp) {\n        console.log(resp)\n        $scope.vendor.splice($scope.vendor.indexOf(c), 1);\n      })\n    });*/\n\n    $scope.deleteVendor = function(ev, vendor) {\n    // Appending dialog to document.body to cover sidenav in docs app\n    var confirm = $mdDialog.confirm()\n    .title('Would you like to delete Vendor' + vendor.name +'?')\n    .textContent('Deleting the Vendor will also remove all the products added by the Vendor')\n    .ariaLabel('Delete Vendor')\n    .targetEvent(ev)\n    .ok('Please do it!')\n    .cancel('Cancel');\n\n    $mdDialog.show(confirm).then(function() {\n      $scope.status = 'ok';\n      vendor.$remove(vendor._id, function(resp) {\n        console.log(resp)\n        //$scope.vendor.splice($scope.vendor.indexOf(c), 1);\n      })\n    }, function() {\n      $scope.status = 'cancel';\n      console.log($scope.status)\n    });\n  };\n}\n])\n\n.controller('VendorsEditCtrl', ['$scope', '$state', 'Vendor', '$stateParams',\n  function($scope, $state, Vendor, $stateParams) {\n\n\n    $scope.vendor = Vendor.get({ id: $stateParams.id },function(data){\n      console.log(data)\n    });\n\n    $scope.save = function(form) {\n      if (form.$valid) {\n        Vendor.update({ id: $scope.vendor._id }, $scope.vendor, function(resp) {\n          console.log('updated', resp);\n          $state.go('admin.vendors');\n        }, function(err) {\n          console.log(err);\n        });\n      }\n    }\n  }\n  ])\n\n.controller('VendorsAddCtrl', ['$scope', '$state', 'Vendor', '$stateParams',\n  function($scope, $state, Vendor, $stateParams) {\n\n\n\n    $scope.save = function(form) {\n      if (form.$valid) {\n        console.log($scope.vendor)\n        Vendor.save($scope.vendor, function(resp) {\n          $state.go('admin.vendors');\n        }, function(err) {\n          console.log(err);\n          $scope.message == err;\n        });\n      }\n    }\n  }\n  ]);\n"]}