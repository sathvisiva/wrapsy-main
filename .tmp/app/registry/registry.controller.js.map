{"version":3,"sources":["../../../client/app/registry/registry.controller.js"],"names":[],"mappings":"AAAA,YAAY,CAAC;;;;AAEb,CAAC,YAAW;MAEJ,wBAAwB,GAEjB,SAFP,wBAAwB,CAEhB,KAAK,EAAE,MAAM,EAAE,QAAQ,EAAE,QAAQ,EAAC,SAAS,EAAC,MAAM,EAAE,IAAI,EAAC,YAAY,EAAC,eAAe,EAAE,OAAO,EAAE;0BAFxG,wBAAwB;;AAG3B,UAAM,CAAC,EAAE,CAAC,eAAe,CAAC,CAAC;;AAE3B,UAAM,CAAC,YAAY,GAAG,IAAI,CAAC;AAC3B,UAAM,CAAC,eAAe,GAAG,IAAI,CAAE;AAC/B,UAAM,CAAC,cAAc,GAAG,IAAI,CAAC;AAC7B,UAAM,CAAC,gBAAgB,GAAG,KAAK,CAAC;AAChC,UAAM,CAAC,kBAAkB,GAAG,KAAK,CAAC;AAClC,UAAM,CAAC,qBAAqB,GAAG,KAAK,CAAC;AACrC,QAAI,CAAC,UAAU,GAAG,IAAI,CAAC,UAAU,CAAC;AAClC,UAAM,CAAC,cAAc,GAAG,IAAI,CAAC,cAAc,CAAC;AAC5C,UAAM,CAAC,UAAU,GAAG,sBAAsB,CAAC;AAC3C,UAAM,CAAC,QAAQ,GAAG,EAAE,CAAA;AACpB,UAAM,CAAC,OAAO,GAAG,EAAE,CAAA;;AAEnB,UAAM,CAAC,SAAS,GAAG,UAAS,IAAI,EAAC;AAChC,YAAM,CAAC,QAAQ,CAAC,IAAI,GAAG,IAAI,CAAC;AAC5B,UAAG,MAAM,CAAC,QAAQ,CAAC,IAAI,IAAI,SAAS,EAAC;AACnC,cAAM,CAAC,gBAAgB,GAAG,IAAI,CAAC;OAChC;AACD,YAAM,CAAC,YAAY,GAAG,KAAK,CAAC;AAC5B,YAAM,CAAC,EAAE,CAAC,6BAA6B,CAAC,CAAC;AACzC,aAAO,CAAC,GAAG,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC;KAC9B,CAAA;;AAED,UAAM,CAAC,gBAAgB,GAAG,UAAS,IAAI,EAAC;AACtC,YAAM,CAAC,kBAAkB,GAAG,KAAK,CAAC;AAClC,UAAI,CAAC,IAAI,CAAC,MAAM,EAAE;AAChB,cAAM,CAAC,kBAAkB,GAAG,IAAI,CAAA;OACjC,MAAI;AACH,cAAM,CAAC,eAAe,GAAG,KAAK,CAAC;AAC/B,cAAM,CAAC,EAAE,CAAC,yBAAyB,CAAC,CAAC;AACrC,eAAO,CAAC,GAAG,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC;OAC9B;KAEF,CAAA;;AAED,UAAM,CAAC,YAAY,GAAG,UAAS,IAAI,EAAC;AAClC,YAAM,CAAC,qBAAqB,GAAG,KAAK,CAAC;AACrC,UAAI,CAAC,IAAI,CAAC,MAAM,EAAE;AAChB,cAAM,CAAC,qBAAqB,GAAG,IAAI,CAAA;OACpC,MAAI;AACH,cAAM,CAAC,cAAc,GAAG,KAAK,CAAC;AAC9B,cAAM,CAAC,EAAE,CAAC,wBAAwB,CAAC,CAAC;AACpC,eAAO,CAAC,GAAG,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC;AAC7B,eAAO,CAAC,GAAG,CAAC,MAAM,CAAC,OAAO,CAAC,CAAC;OAC7B;KAEF,CAAA;;AAED,UAAM,CAAC,YAAY,GAAG,UAAS,KAAK,EAAC;AACnC,YAAM,CAAC,KAAK,GAAG,iBAAiB,GAAC,KAAK,CAAC;AACvC,aAAO,CAAC,GAAG,CAAC,MAAM,CAAC,KAAK,CAAC,CAAA;AACzB,YAAM,CAAC,EAAE,CAAC,MAAM,CAAC,KAAK,CAAC,CAAC;KAEzB,CAAA;;AAED,UAAM,CAAC,IAAI,GAAG,UAAS,IAAI,EAAE;AAC5B,aAAO,CAAC,GAAG,CAAC,IAAI,CAAC,MAAM,CAAC,CAAA;AACxB,UAAI,IAAI,CAAC,MAAM,EAAE;AAChB,eAAO,CAAC,GAAG,CAAC,MAAM,CAAC,cAAc,EAAE,CAAC,CAAA;AACpC,cAAM,CAAC,QAAQ,CAAC,QAAQ,GAAG,MAAM,CAAC,cAAc,EAAE,CAAC,KAAK,CAAA;AACxD,cAAM,CAAC,QAAQ,CAAC,kBAAkB,GAAG,sBAAsB,CAAA;AAC3D,cAAM,CAAC,QAAQ,CAAC,eAAe,GAAG,wBAAwB,CAAA;AAC1D,gBAAQ,CAAC,IAAI,CAAC,MAAM,CAAC,QAAQ,EAAE,UAAS,IAAI,EAAE;AAC5C,gBAAM,CAAC,OAAO,CAAC,UAAU,GAAG,IAAI,CAAC,GAAG,CAAA;AACpC,iBAAO,CAAC,IAAI,CAAC,MAAM,CAAC,OAAO,EAAE,UAAS,IAAI,EAAE,EAE3C,EAAE,UAAS,GAAG,EAAE;AACf,mBAAO,CAAC,GAAG,CAAC,GAAG,CAAC,CAAA;WACjB,CAAC,CAAA;AACF,gBAAM,CAAC,EAAE,CAAC,UAAU,EAAE,EAAC,EAAE,EAAE,IAAI,CAAC,GAAG,EAAC,CAAC,CAAC;SACvC,EAAE,UAAS,GAAG,EAAE;AACf,iBAAO,CAAC,GAAG,CAAC,GAAG,CAAC,CAAA;SACjB,CAAC,CAAA;OACH;KACF,CAAA;;AAED,UAAM,CAAC,OAAO,GAAG,UAAS,IAAI,EAAE,KAAK,EAAE,GAAG,EAAE;AAC1C,YAAM,CAAC,QAAQ,CAAC,IAAI,GAAG,IAAI,IAAI,CAAC,GAAG,EAAG,KAAK,EAAC,IAAI,CAAE,CAAC;KACpD,CAAC;;AAEF,QAAI,IAAI,GAAG,IAAI,IAAI,EAAE,CAAC;AACtB,UAAM,CAAC,OAAO,CAAC,IAAI,CAAC,WAAW,EAAE,EAAC,IAAI,CAAC,QAAQ,EAAE,EAAC,IAAI,CAAC,OAAO,EAAE,CAAE,CAAA;;AASlE,UAAM,CAAC,QAAQ,CAAC,IAAI,GAAG,IAAI,IAAI,EAAE,CAAC;;AAElC,UAAM,CAAC,KAAK,GAAG,YAAW;AACxB,YAAM,CAAC,QAAQ,CAAC,IAAI,GAAG,IAAI,CAAC;KAC7B,CAAC;;AAEF,UAAM,CAAC,KAAK,GAAG,YAAY;AAAE,YAAM,CAAC,MAAM,CAAC,MAAM,GAAG,IAAI,CAAC;KAAE,CAAC;AAC5D,UAAM,CAAC,MAAM,GAAG,EAAE,MAAM,EAAE,KAAK,EAAE,CAAC;;AAElC,UAAM,CAAC,OAAO,GAAG;AACf,aAAO,EAAE,IAAI,IAAI,EAAE;KACpB,CAAA;GAGF;;AAGD,SAAO,CAAC,MAAM,CAAC,YAAY,CAAC,CAC3B,UAAU,CAAC,0BAA0B,EAAE,wBAAwB,CAAC,CAAC;CAEjE,CAAA,EAAG,CAAC;;AAEL,OAAO,CAAC,MAAM,CAAC,YAAY,CAAC,CAC3B,UAAU,CAAC,oBAAoB,EAAE,CAAC,QAAQ,EAAE,cAAc,EAAE,QAAQ,EAAE,UAAU,EAAC,WAAW,EAAC,QAAQ,EAAC,iBAAiB,EAAC,MAAM,EAAC,SAAS,EAAC,UAAU,EAClJ,UAAS,MAAM,EAAE,YAAY,EAAE,MAAM,EAAG,QAAQ,EAAC,SAAS,EAAE,MAAM,EAAE,eAAe,EAAG,IAAI,EAAE,OAAO,EAAC,QAAQ,EAAE;;AAE7G,QAAM,CAAC,aAAa,GAAG,UAAS,GAAG,EAAC;AAClC,SAAK,IAAI,CAAC,GAAG,MAAM,CAAC,QAAQ,CAAC,QAAQ,CAAC,MAAM,GAAG,CAAC,EAAE,CAAC,IAAI,CAAC,EAAE,CAAC,EAAE,EAAE;AAC9D,UAAI,MAAM,CAAC,QAAQ,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC,GAAG,IAAI,GAAG,EAAE;AAC1C,cAAM,CAAC,QAAQ,CAAC,QAAQ,CAAC,MAAM,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;OACvC;KACF;AACD,YAAQ,CAAC,MAAM,CAAC,EAAC,EAAE,EAAC,MAAM,CAAC,QAAQ,CAAC,GAAG,EAAC,EAAC,MAAM,CAAC,QAAQ,CAAC,CAAC,QAAQ,CAAC,IAAI,CAAC,UAAS,GAAG,EAAE;AACpF,YAAM,CAAC,QAAQ,GAAG,GAAG,CAAA;AACrB,aAAO,CAAC,GAAG,CAAC,SAAS,EAAE,8BAA8B,CAAC,CAAC;KACxD,CAAC,CAAC;GACJ,CAAA;;AAGD,QAAM,CAAC,aAAa,GAAG,YAAU;;AAE/B,UAAM,CAAC,QAAQ,GAAG,QAAQ,CAAC,GAAG,CAAC,EAAE,EAAE,EAAE,YAAY,CAAC,EAAE,EAAE,EAAE,UAAS,IAAI,EAAE;AACrE,UAAG,IAAI,CAAC,cAAc,EAAE,CAAC,KAAK,IAAI,IAAI,CAAC,QAAQ,EAAC;AAC9C,cAAM,CAAC,QAAQ,GAAG,IAAI,CAAA;OACvB;AACD,UAAI,YAAY,GAAG,EAAE,CAAA;AACrB,kBAAY,CAAC,GAAG,GAAG,IAAI,CAAC,GAAG,CAAA;AAC3B,kBAAY,CAAC,KAAK,GAAG,IAAI,CAAC,KAAK,CAAA;AAC/B,qBAAe,CAAC,WAAW,CAAC,YAAY,CAAC,CAAA;KAC1C,CAAC,CAAC;GACJ,CAAA;;AAED,QAAM,CAAC,QAAQ,GAAG,2DAA2D,CAAC;;AAG9E,QAAM,CAAC,aAAa,EAAE,CAAA;;AAEtB,QAAM,CAAC,KAAK,GAAG,IAAI,CAAA;AACnB,QAAM,CAAC,KAAK,GAAG,KAAK,CAAA;AACpB,QAAM,CAAC,KAAK,GAAG,KAAK,CAAA;AACpB,QAAM,CAAC,KAAK,GAAG,KAAK,CAAA;;AAEpB,QAAM,CAAC,YAAY,GAAG,YAAU;AAC9B,UAAM,CAAC,KAAK,GAAG,IAAI,CAAA;AACnB,UAAM,CAAC,KAAK,GAAG,KAAK,CAAA;AACpB,UAAM,CAAC,KAAK,GAAG,KAAK,CAAA;AACpB,UAAM,CAAC,KAAK,GAAG,KAAK,CAAA;GACrB,CAAA;AACD,QAAM,CAAC,QAAQ,GAAG,YAAU;AAC1B,UAAM,CAAC,KAAK,GAAG,KAAK,CAAA;AACpB,UAAM,CAAC,KAAK,GAAG,IAAI,CAAA;AACnB,UAAM,CAAC,KAAK,GAAG,KAAK,CAAA;AACpB,UAAM,CAAC,KAAK,GAAG,KAAK,CAAA;AACpB,UAAM,CAAC,IAAI,GAAG,EAAE,CAAA;AAChB,UAAM,CAAC,IAAI,CAAC,SAAS,GAAG,MAAM,CAAA;GAC/B,CAAA;;AAED,QAAM,CAAC,aAAa,GAAG,YAAU;AAC/B,UAAM,CAAC,KAAK,GAAG,KAAK,CAAA;AACpB,UAAM,CAAC,KAAK,GAAG,KAAK,CAAA;AACpB,UAAM,CAAC,KAAK,GAAG,IAAI,CAAA;AACnB,UAAM,CAAC,KAAK,GAAG,KAAK,CAAA;AACpB,UAAM,CAAC,cAAc,EAAE,CAAA;GACxB,CAAA;;AAED,QAAM,CAAC,UAAU,GAAG,YAAU;AAC5B,UAAM,CAAC,KAAK,GAAG,KAAK,CAAA;AACpB,UAAM,CAAC,KAAK,GAAG,KAAK,CAAA;AACpB,UAAM,CAAC,KAAK,GAAG,KAAK,CAAA;AACpB,UAAM,CAAC,KAAK,GAAG,IAAI,CAAC;AACpB,UAAM,CAAC,YAAY,EAAE,CAAA;GAEtB,CAAA;;AAED,QAAM,CAAC,aAAa,GAAG,YAAU;AAC/B,YAAQ,CAAC,MAAM,CAAC,EAAC,EAAE,EAAC,MAAM,CAAC,QAAQ,CAAC,GAAG,EAAC,EAAC,MAAM,CAAC,QAAQ,CAAC,CAAC,QAAQ,CAAC,IAAI,CAAC,UAAS,GAAG,EAAE;AACpF,YAAM,CAAC,QAAQ,GAAG,GAAG,CAAC;AACtB,aAAO,CAAC,GAAG,CAAC,SAAS,EAAE,+BAA+B,CAAC,CAAC;KACzD,CAAC,CAAC;GACJ,CAAA;;AAED,QAAM,CAAC,QAAQ,GAAG,UAAS,IAAI,EAAE;;AAE/B,QAAI,IAAI,CAAC,MAAM,EAAE;AACf,aAAO,CAAC,GAAG,CAAC,MAAM,CAAC,IAAI,CAAC,CAAA;AACxB,YAAM,CAAC,IAAI,CAAC,UAAU,GAAG,MAAM,CAAC,QAAQ,CAAC,GAAG,CAAA;AAC5C,cAAQ,CAAC,YAAY,CAAC,EAAE,EAAE,EAAE,MAAM,CAAC,QAAQ,CAAC,GAAG,EAAE,EAAE,MAAM,CAAC,IAAI,EAAE,UAAS,IAAI,EAAE;AAC7E,eAAO,CAAC,GAAG,CAAC,SAAS,EAAE,6BAA6B,CAAC,CAAC;AACtD,gBAAQ,CAAC,YAAW;AAClB,gBAAM,CAAC,YAAY,EAAE,CAAA;SACtB,EAAE,IAAI,CAAC,CAAC;OACV,EAAE,UAAS,GAAG,EAAE;;AAEf,eAAO,CAAC,GAAG,CAAC,OAAO,EAAE,oBAAoB,CAAC,CAAC;OAC5C,CAAC,CAAC;KACJ;GACF,CAAA;;AAED,QAAM,CAAC,aAAa,GAAG,UAAS,IAAI,EAAE;;AAEpC,QAAI,MAAM,CAAC,SAAS,CAAC,EAAE,IAAI,MAAM,CAAC,SAAS,CAAC,MAAM,EAAE;AAClD,YAAM,CAAC,SAAS,CAAC,UAAU,GAAG,MAAM,CAAC,QAAQ,CAAC,GAAG,CAAA;AACjD,cAAQ,CAAC,iBAAiB,CAAC,EAAE,EAAE,EAAE,MAAM,CAAC,QAAQ,CAAC,GAAG,EAAE,EAAE,MAAM,CAAC,SAAS,EAAE,UAAS,IAAI,EAAE;AACvF,eAAO,CAAC,GAAG,CAAC,SAAS,EAAE,mCAAmC,CAAC,CAAC;AAC5D,cAAM,CAAC,SAAS,CAAC,MAAM,GAAG,EAAE,CAAA;AAC5B,cAAM,CAAC,SAAS,CAAC,EAAE,GAAG,EAAE,CAAA;AACxB,cAAM,CAAC,cAAc,EAAE,CAAA;OACxB,EAAE,UAAS,GAAG,EAAE;;AAEf,eAAO,CAAC,GAAG,CAAC,OAAO,EAAE,oBAAoB,CAAC,CAAC;OAC5C,CAAC,CAAC;KACJ;GACF,CAAA;;AAED,QAAM,CAAC,cAAc,GAAG,YAAU;;AAEhC,UAAM,CAAC,WAAW,GAAI,QAAQ,CAAC,iBAAiB,CAAC,EAAE,EAAE,EAAE,MAAM,CAAC,QAAQ,CAAC,GAAG,EAAE,CAAC,CAAC;AAC9E,WAAO,CAAC,GAAG,CAAC,MAAM,CAAC,WAAW,CAAC,CAAA;;;;;;;;;GAY5B,CAAA;;AAGD,QAAM,CAAC,YAAY,GAAG,YAAU;AAC9B,UAAM,CAAC,MAAM,GAAG,QAAQ,CAAC,aAAa,CAAC,EAAE,EAAE,EAAE,MAAM,CAAC,QAAQ,CAAC,GAAG,EAAE,CAAC,CAAC;GACrE,CAAA;;AAGD,QAAM,CAAC,aAAa,GAAG,YAAU;AAC/B,QAAI,aAAa,GAAG,SAAS,CAAC,IAAI,CAAC;AACjC,iBAAW,EAAG,0BAA0B;AACxC,gBAAU,EAAE,oBAAoB;AAChC,UAAI,EAAE,IAAI;KACX,CAAC,CACD,MAAM,CAAC,IAAI,CAAC,UAAS,MAAM,EAAE,EAE7B,CAAC,CAAC;;;GAGH,CAAA;;AAGD,QAAM,CAAC,qBAAqB,GAAG,YAAU;AACxC,QAAI,aAAa,GAAG,SAAS,CAAC,IAAI,CAAC;AACjC,iBAAW,EAAG,oCAAoC;AAClD,gBAAU,EAAE,qBAAqB;AACjC,UAAI,EAAE,IAAI;KACX,CAAC,CACD,MAAM,CAAC,IAAI,CAAC,UAAS,MAAM,EAAE;AAC5B,YAAM,CAAC,QAAQ,CAAC,kBAAkB,GAAG,MAAM,CAAC;AAC5C,cAAQ,CAAC,MAAM,CAAC,EAAC,EAAE,EAAC,MAAM,CAAC,QAAQ,CAAC,GAAG,EAAC,EAAC,MAAM,CAAC,QAAQ,CAAC,CAAC,QAAQ,CAAC,IAAI,CAAC,UAAS,GAAG,EAAE;AACpF,eAAO,CAAC,GAAG,CAAC,SAAS,CAAC,CAAA;OACvB,CAAC,CAAC;KACJ,CAAC,CAAC;GAEJ,CAAA;;AAED,QAAM,CAAC,aAAa,GAAG,UAAS,OAAO,EAAC;AACtC,QAAI,aAAa,GAAG,SAAS,CAAC,IAAI,CAAC;AACjC,iBAAW,EAAG,oCAAoC;AAClD,gBAAU,EAAE,2BAA2B;AACvC,UAAI,EAAE,IAAI;AACV,aAAO,EAAE;AACP,gBAAQ,EAAE,oBAAY;AACrB,iBAAO,MAAM,CAAC,QAAQ,CAAC,GAAG,CAAC;SAC5B,EAAC,YAAY,EAAG,wBAAU;AAC1B,iBAAQ,OAAO,CAAC;SACjB;OACF;KACF,CAAC,CACC,MAAM,CAAC,IAAI,CAAC,UAAS,MAAM,EAAE;AAC5B,aAAO,CAAC,GAAG,CAAC,MAAM,CAAC,CAAA;AACnB,YAAM,CAAC,aAAa,EAAE,CAAA;KACvB,CAAC,CAAC;;;;GAIH,CAAA;;AAED,QAAM,CAAC,UAAU,GAAG,YAAU;AAC7B,UAAM,CAAC,QAAQ,CAAC,OAAO,GAAG,IAAI,CAAC;AAC/B,YAAQ,CAAC,MAAM,CAAC,EAAC,EAAE,EAAC,MAAM,CAAC,QAAQ,CAAC,GAAG,EAAC,EAAC,MAAM,CAAC,QAAQ,CAAC,CAAC,QAAQ,CAAC,IAAI,CAAC,UAAS,GAAG,EAAE;AACpF,aAAO,CAAC,GAAG,CAAC,SAAS,CAAC,CAAA;KACvB,CAAC,CAAC;GAEJ,CAAA;;AAED,QAAM,CAAC,MAAM,GAAG,UAAS,IAAI,EAAE;AAC7B,QAAI,IAAI,EAAE;AACR,YAAM,CAAC,MAAM,CAAC;AACZ,WAAG,EAAE,cAAc;AACnB,YAAI,EAAE,EAAE,IAAI,EAAE,IAAI,EAAE;OACrB,CAAC,CAAC,IAAI,CAAC,UAAS,IAAI,EAAE;AACrB,YAAI,MAAM,CAAC,QAAQ,EAAE;;AAEnB,gBAAM,CAAC,QAAQ,CAAC,eAAe,GAAG,IAAI,CAAC,IAAI,CAAC,GAAG,CAAC;;AAEhD,kBAAQ,CAAC,MAAM,CAAC,EAAC,EAAE,EAAC,MAAM,CAAC,QAAQ,CAAC,GAAG,EAAC,EAAC,MAAM,CAAC,QAAQ,CAAC,CAAC,QAAQ,CAAC,IAAI,CAAC,UAAS,GAAG,EAAE;AACpF,mBAAO,CAAC,GAAG,CAAC,SAAS,CAAC,CAAA;WACvB,CAAC,CAAC;SACJ,MAAM;AACL,gBAAM,CAAC,QAAQ,GAAG,EAAE,eAAe,EAAE,IAAI,CAAC,IAAI,CAAC,QAAQ,EAAE,CAAA;SAC1D;AACD,eAAO,CAAC,GAAG,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;OACxB,EAAE,UAAS,IAAI,EAAE;AAChB,cAAM,CAAC,QAAQ,GAAG,IAAI,CAAC,MAAM,GAAG,IAAI,GAAG,IAAI,CAAC,IAAI,CAAC;OAClD,EAAE,UAAS,GAAG,EAAE;AACf,YAAI,kBAAkB,GAAG,QAAQ,CAAC,KAAK,GAAG,GAAG,CAAC,MAAM,GAAG,GAAG,CAAC,KAAK,CAAC,CAAC;;OAEnE,CAAC,CAAC;KACJ,CAAC;GACH,CAAA;CAIF,CACA,CAAC,CAAC;;AAEP,OAAO,CAAC,MAAM,CAAC,YAAY,CAAC,CAC3B,UAAU,CAAC,qBAAqB,EAAE,CAAC,QAAQ,EAAE,cAAc,EAAE,QAAQ,EAAE,UAAU,EAAC,mBAAmB,EACpG,UAAS,MAAM,EAAE,YAAY,EAAE,MAAM,EAAG,QAAQ,EAAE,iBAAiB,EAAE;;AAIpE,QAAM,CAAC,EAAE,GAAG,UAAS,QAAQ,EAAE;AAC9B,qBAAiB,CAAC,KAAK,CAAC,QAAQ,CAAC,CAAC;GACnC,CAAC;;AAEF,QAAM,CAAC,MAAM,GAAG,YAAW;AACzB,qBAAiB,CAAC,OAAO,CAAC,QAAQ,CAAC,CAAC;GACrC,CAAC;CAEH,CACA,CAAC,CAAC;;AAEH,OAAO,CAAC,MAAM,CAAC,YAAY,CAAC,CAC3B,UAAU,CAAC,2BAA2B,EAAE,CAAC,QAAQ,EAAE,cAAc,EAAE,QAAQ,EAAE,UAAU,EAAC,mBAAmB,EAAC,UAAU,EAAC,cAAc,EAAC,SAAS,EAAC,QAAQ,EACvJ,UAAS,MAAM,EAAE,YAAY,EAAE,MAAM,EAAG,QAAQ,EAAE,iBAAiB,EAAC,QAAQ,EAAC,YAAY,EAAC,OAAO,EAAC,MAAM,EAAE;;AAExG,QAAM,CAAC,UAAU,GAAG,QAAQ,CAAA;AAC5B,QAAM,CAAC,YAAY,GAAG,YAAY,CAAC;;AAEnC,QAAM,CAAC,SAAS,GAAG,UAAS,GAAG,EAAC;;AAE9B,UAAM,CAAC,OAAO,CAAC,MAAM,CAAC,OAAO,CAAC,GAAG,EAAE,MAAM,CAAC,OAAO,CAAC,KAAK,EAAE,MAAM,CAAC,OAAO,CAAC,KAAK,EAAE,GAAG,EAAE,MAAM,CAAC,OAAO,EAAC,MAAM,CAAC,UAAU,CAAC,CAAA;AACrH,qBAAiB,CAAC,KAAK,EAAE,CAAC;GAC3B,CAAA;;AAED,QAAM,CAAC,MAAM,GAAG,UAAS,GAAG,EAAC;AAC3B,qBAAiB,CAAC,KAAK,CAAC,MAAM,CAAC,CAAC;AAChC,YAAQ,CAAC,YAAY,CAAC,EAAE,EAAE,EAAE,MAAM,CAAC,UAAU,EAAG,EAAE,MAAM,CAAC,OAAO,EAAE,UAAS,IAAI,EAAE,EAEhF,EAAE,UAAS,GAAG,EAAE;AACf,aAAO,CAAC,GAAG,CAAC,GAAG,CAAC,CAAA;AAChB,YAAM,CAAC,OAAO,GAAG,mBAAmB,CAAA;KACrC,CAAC,CAAC;GAEJ,CAAA;;AAID,QAAM,CAAC,OAAO,GAAG,OAAO,CAAC,GAAG,CAAC,EAAE,EAAE,EAAE,YAAY,CAAC,IAAI,EAAE,CAAC,CAAC;;AAUxD,QAAM,CAAC,GAAG,GAAG,QAAQ,CAAC,YAAY,CAAC,OAAO,CAAC,GAAG,QAAQ,CAAC,YAAY,CAAC,QAAQ,CAAC,CAAA;;AAE7E,QAAM,CAAC,EAAE,GAAG,YAAW;AACrB,qBAAiB,CAAC,KAAK,EAAE,CAAC;GAC3B,CAAC;;AAGF,QAAM,CAAC,MAAM,GAAG,YAAW;AACzB,qBAAiB,CAAC,OAAO,CAAC,QAAQ,CAAC,CAAC;GACrC,CAAC;CAEH,CACA,CAAC,CAAC;AACL,OAAO,CAAC,MAAM,CAAC,YAAY,CAAC,CAC3B,UAAU,CAAC,wBAAwB,EAAE,CAAC,QAAQ,EAAE,cAAc,EAAE,QAAQ,EAAE,UAAU,EACnF,UAAS,MAAM,EAAE,YAAY,EAAE,MAAM,EAAG,QAAQ,EAAE;;AAGhD,QAAM,CAAC,cAAc,GAAG,YAAU;AAChC,UAAM,CAAC,OAAO,GAAG,KAAK,CAAC;AACvB,QAAI,CAAC,GAAG,EAAC,KAAK,EAAC,EAAC,KAAK,EAAE,EAAC,QAAQ,EAAE,MAAM,CAAC,KAAK,EAAC,EAAC,EAAC,CAAC;AAClD,KAAC,CAAC,KAAK,CAAC,KAAK,CAAC,QAAQ,GAAE,IAAI,CAAC;AAC7B,UAAM,CAAC,UAAU,GAAG,QAAQ,CAAC,KAAK,CAAC,CAAC,EAAC,UAAS,IAAI,EAAC;;AAEjD,UAAI,aAAa,GAAG,EAAE,CAAC;;AAEvB,aAAO,CAAC,OAAO,CAAC,IAAI,EAAE,UAAU,IAAI,EAAE,GAAG,EAAE;AACzC,YAAI,IAAI,CAAC,OAAO,EACd,aAAa,CAAC,IAAI,CAAC,IAAI,CAAC,CAAA;OAC3B,CAAC,CAAC;AACH,UAAG,aAAa,CAAC,MAAM,IAAI,CAAC,EAAC;AAC3B,eAAO,CAAC,GAAG,CAAC,aAAa,CAAC,CAAA;AAC1B,cAAM,CAAC,OAAO,GAAG,IAAI,CAAC;AACtB,eAAO,CAAC,GAAG,CAAC,MAAM,CAAC,OAAO,CAAC,CAAA;OAC5B;KAIF,CAAC,CAAC;GAGJ,CAAA;CACF,CACA,CAAC,CAAC;;AAEL,OAAO,CAAC,MAAM,CAAC,YAAY,CAAC,CAC3B,UAAU,CAAC,8BAA8B,EAAE,CAAC,QAAQ,EAAE,cAAc,EAAE,QAAQ,EAAE,UAAU,EAAC,MAAM,EAChG,UAAS,MAAM,EAAE,YAAY,EAAE,MAAM,EAAG,QAAQ,EAAC,IAAI,EAAE;AACrD,MAAI,CAAC,GAAG,EAAC,KAAK,EAAC,EAAC,QAAQ,EAAC,IAAI,CAAC,cAAc,EAAE,CAAC,KAAK,EAAC,EAAC,CAAC;AACvD,QAAM,CAAC,UAAU,GAAI,QAAQ,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC;CAExC,CACA,CAAC,CAAC;AACL,OAAO,CAAC,MAAM,CAAC,YAAY,CAAC,CAC3B,UAAU,CAAC,oBAAoB,EAAC,UAAU,MAAM,EAAC,UAAU,EAAC,MAAM,EAAE,YAAY,EAAC,QAAQ,EAAC,IAAI,EAAC,SAAS,EAAE,iBAAiB,EAAE;;AAE7H,QAAM,CAAC,GAAG,GAAG,2BAA2B,GAAC,SAAS,CAAC,IAAI,EAAE,CAAC;AAC1D,SAAO,CAAC,GAAG,CAAC,SAAS,CAAC,IAAI,EAAE,CAAC,CAAC;;AAE9B,QAAM,CAAC,MAAM,GAAG,YAAY;AAC3B,qBAAiB,CAAC,OAAO,CAAC,OAAO,CAAC,CAAC;GACpC,CAAC;AACF,QAAM,CAAC,EAAE,GAAG,UAAU,UAAU,EAAE;AAChC,qBAAiB,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC;GAC/B,CAAC;CAED,CAAC,CAAC;;AAEH,OAAO,CAAC,MAAM,CAAC,YAAY,CAAC,CAC3B,UAAU,CAAC,0BAA0B,EAAE,CAAC,QAAQ,EAAE,cAAc,EAAE,QAAQ,EAAE,UAAU,EAAC,SAAS,EAC/F,UAAS,MAAM,EAAE,YAAY,EAAE,MAAM,EAAG,QAAQ,EAAE,OAAO,EAAE;;AAEzD,QAAM,CAAC,KAAK,GAAG,YAAW;AACxB,UAAM,CAAC,QAAQ,CAAC,IAAI,GAAG,IAAI,CAAC;GAC7B,CAAC;;AAEF,QAAM,CAAC,IAAI,GAAG,UAAS,IAAI,EAAE;AAC3B,WAAO,CAAC,GAAG,CAAC,IAAI,CAAC,MAAM,CAAC,CAAA;AACxB,QAAI,IAAI,CAAC,MAAM,EAAE;AACf,cAAQ,CAAC,MAAM,CAAC,MAAM,CAAC,QAAQ,EAAE,UAAS,IAAI,EAAE;;AAE9C,cAAM,CAAC,EAAE,CAAC,UAAU,EAAE,EAAC,EAAE,EAAE,IAAI,CAAC,GAAG,EAAC,CAAC,CAAC;OACvC,EAAE,UAAS,GAAG,EAAE;AACf,eAAO,CAAC,GAAG,CAAC,GAAG,CAAC,CAAA;OACjB,CAAC,CAAA;KACH;GACF,CAAA;;AAED,QAAM,CAAC,YAAY,GAAG,YAAU;AAC9B,UAAM,CAAC,EAAE,CAAC,UAAU,EAAE,EAAC,EAAE,EAAE,MAAM,CAAC,QAAQ,CAAC,GAAG,EAAC,CAAC,CAAC;GAClD,CAAA;AACD,QAAM,CAAC,KAAK,GAAG,YAAW;AACxB,UAAM,CAAC,QAAQ,CAAC,IAAI,GAAG,IAAI,CAAC;GAC7B,CAAC;;AAEF,QAAM,CAAC,KAAK,GAAG,YAAY;AAAE,UAAM,CAAC,MAAM,CAAC,MAAM,GAAG,IAAI,CAAC;GAAE,CAAC;AAC5D,QAAM,CAAC,MAAM,GAAG,EAAE,MAAM,EAAE,KAAK,EAAE,CAAC;;AAElC,QAAM,CAAC,OAAO,GAAG;AACf,WAAO,EAAE,IAAI,IAAI,EAAE;GACpB,CAAA;;AAED,QAAM,CAAC,OAAO,GAAG,UAAS,IAAI,EAAE,KAAK,EAAE,GAAG,EAAE;AAC1C,UAAM,CAAC,QAAQ,CAAC,IAAI,GAAG,IAAI,IAAI,CAAC,IAAI,EAAE,KAAK,EAAE,GAAG,CAAC,CAAC;GACnD,CAAC;;AAEF,QAAM,CAAC,QAAQ,GAAG,QAAQ,CAAC,GAAG,CAAC,EAAE,EAAE,EAAE,YAAY,CAAC,EAAE,EAAE,EAAE,UAAS,IAAI,EAAE;;AAErE,WAAO,CAAC,GAAG,CAAC,IAAI,CAAC,IAAI,CAAC,CAAA;AACtB,QAAI,IAAI,GAAG,IAAI,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;AAC/B,WAAO,CAAC,GAAG,CAAC,IAAI,CAAC,WAAW,EAAE,CAAC,CAAA;AAC/B,UAAM,CAAC,OAAO,CAAC,IAAI,CAAC,WAAW,EAAE,EAAC,IAAI,CAAC,QAAQ,EAAE,EAAC,IAAI,CAAC,OAAO,EAAE,CAAE,CAAA;;AAElE,QAAI,CAAC,WAAW,EAAE,GAAC,GAAG,IAAI,IAAI,CAAC,QAAQ,EAAE,GAAC,CAAC,CAAA,AAAC,GAAG,GAAG,GAAC,IAAI,CAAC,OAAO,EAAE,CAAC;GACnE,CAAC,CAAC;CAOJ,CACA,CAAC,CAAC","file":"registry.controller.js","sourcesContent":["'use strict';\n\n(function() {\n\n  class CreateRegistryController {\n\n    constructor($http, $scope, $timeout, Registry,$uibModal,$state, Auth,$stateParams,RegistryService, Address) {\n     $state.go('.registryType');\n\n     $scope.disableevent = true;\n     $scope.disablelocation = true ; \n     $scope.disablemessage = true;\n     $scope.enableSecondName = false;\n     $scope.eventformsubmitted = false;\n     $scope.locationformsubmitted = false;\n     this.isLoggedIn = Auth.isLoggedIn;\n     $scope.getCurrentUser = Auth.getCurrentUser;\n     $scope.phoneNumbr = /^\\+?\\d{2}\\d{3}\\d{5}$/;\n     $scope.registry = {}\n     $scope.address = {}\n\n     $scope.eventType = function(type){\n      $scope.registry.type = type;\n      if($scope.registry.type == 'wedding'){\n        $scope.enableSecondName = true;\n      }\n      $scope.disableevent = false;\n      $state.go('createregistry.eventDetails');\n      console.log($scope.registry);\n    }\n\n    $scope.saveeventdetails = function(form){\n      $scope.eventformsubmitted = false;\n      if (!form.$valid) {\n        $scope.eventformsubmitted = true\n      }else{\n        $scope.disablelocation = false;\n        $state.go('createregistry.location');\n        console.log($scope.registry);\n      }\n\n    }\n\n    $scope.savelocation = function(form){\n      $scope.locationformsubmitted = false;\n      if (!form.$valid) {\n        $scope.locationformsubmitted = true\n      }else{\n        $scope.disablemessage = false;\n        $state.go('createregistry.message');\n        console.log($scope.registry);\n        console.log($scope.address);\n      }\n\n    }\n\n    $scope.registryType = function(state){\n      $scope.state = 'createregistry.'+state;\n      console.log($scope.state)\n      $state.go($scope.state);\n\n    }\n\n    $scope.save = function(form) {\n     console.log(form.$valid)\n     if (form.$valid) {\n      console.log($scope.getCurrentUser())\n      $scope.registry.username = $scope.getCurrentUser().email\n      $scope.registry.backgroundImageUrl = 'assets/img/cover.jpg'\n      $scope.registry.profileImageUrl = 'assets/img/noimage.jpg'          \n      Registry.save($scope.registry, function(resp) {\n        $scope.address.registryId = resp._id\n        Address.save($scope.address, function(resp) {\n\n        }, function(err) {\n          console.log(err)\n        })\n        $state.go('registry', {id: resp._id});\n      }, function(err) {\n        console.log(err)\n      })\n    }\n  }\n\n  $scope.setDate = function(year, month, day) {\n    $scope.registry.date = new Date(day , month,year );\n  };\n\n  var date = new Date();\n  $scope.setDate(date.getFullYear(),date.getMonth(),date.getDate() )\n\n\n\n\n\n\n\n\n  $scope.registry.date = new Date();\n\n  $scope.clear = function() {\n    $scope.registry.date = null;\n  };\n\n  $scope.open1 = function () { $scope.popup1.opened = true; };\n  $scope.popup1 = { opened: false };\n\n  $scope.options = {\n    minDate: new Date(),\n  }\n\n\n}\n}\n\nangular.module('bhcmartApp')\n.controller('CreateRegistryController', CreateRegistryController);\n\n})();\n\nangular.module('bhcmartApp')\n.controller('RegistryController', ['$scope', '$stateParams', '$state', 'Registry','$uibModal','Upload','RegistryService','Auth','toaster','$timeout',\n  function($scope, $stateParams, $state,  Registry,$uibModal, Upload, RegistryService , Auth, toaster,$timeout) {\n\n   $scope.removeProduct = function(pid){\n     for (var i = $scope.registry.products.length - 1; i >= 0; i--) {\n      if ($scope.registry.products[i]._id == pid) {\n        $scope.registry.products.splice(i, 1);\n      }\n    }\n    Registry.update({id:$scope.registry._id},$scope.registry).$promise.then(function(res) {\n      $scope.registry = res\n      toaster.pop('success', \"Product successfully deleted\");\n    });\n  }\n\n\n  $scope.queryRegistry = function(){\n\n    $scope.registry = Registry.get({ id: $stateParams.id }, function(resp) {\n      if(Auth.getCurrentUser().email == resp.username){\n        $scope.editable = true\n      }\n      var registrydata = {}\n      registrydata._id = resp._id\n      registrydata.title = resp.title\n      RegistryService.addregistry(registrydata)\n    });\n  }\n\n  $scope.ph_numbr = /^(\\+?(\\d{1}|\\d{2}|\\d{3})[- ]?)?\\d{3}[- ]?\\d{3}[- ]?\\d{4}$/;\n\n\n  $scope.queryRegistry()\n\n  $scope.show1 = true\n  $scope.show2 = false\n  $scope.show3 = false\n  $scope.show4 = false\n\n  $scope.showWishlist = function(){\n    $scope.show1 = true\n    $scope.show2 = false\n    $scope.show3 = false\n    $scope.show4 = false\n  }\n  $scope.showRSVP = function(){\n    $scope.show1 = false\n    $scope.show2 = true\n    $scope.show3 = false\n    $scope.show4 = false\n    $scope.rsvp = {}\n    $scope.rsvp.attending = \"true\"\n  }\n\n  $scope.showGuestBook = function(){\n    $scope.show1 = false\n    $scope.show2 = false\n    $scope.show3 = true\n    $scope.show4 = false\n    $scope.getGuestWishes()\n  }\n\n  $scope.showGuests = function(){\n    $scope.show1 = false\n    $scope.show2 = false\n    $scope.show3 = false\n    $scope.show4 = true;\n    $scope.getGuestList()\n\n  }\n\n  $scope.updatedesired = function(){\n    Registry.update({id:$scope.registry._id},$scope.registry).$promise.then(function(res) {\n      $scope.registry = res;\n      toaster.pop('success', \"Product desired count updated\");\n    });\n  }\n\n  $scope.saversvp = function(form) {\n\n    if (form.$valid) {\n      console.log($scope.rsvp)\n      $scope.rsvp.registryId = $scope.registry._id\n      Registry.rsvpRegistry({ id: $scope.registry._id }, $scope.rsvp, function(resp) {\n        toaster.pop('success', \"Thank you for your Response\");\n        $timeout(function() {\n          $scope.showWishlist()\n        }, 1000);\n      }, function(err) {\n\n        toaster.pop('error', \"Some error occured\");\n      });\n    } \n  }\n\n  $scope.saveGuestWish = function(form) {\n\n    if ($scope.guestbook.by && $scope.guestbook.wishes) {\n      $scope.guestbook.registryId = $scope.registry._id\n      Registry.guestBookRegistry({ id: $scope.registry._id }, $scope.guestbook, function(resp) {\n        toaster.pop('success', \"Thank you for sharing your wishes\");\n        $scope.guestbook.wishes = \"\"\n        $scope.guestbook.by = \"\"\n        $scope.getGuestWishes()\n      }, function(err) {\n\n        toaster.pop('error', \"Some error occured\");\n      });\n    }\n  }\n\n  $scope.getGuestWishes = function(){\n\n    $scope.guestWishes =  Registry.registryGuestBook({ id: $scope.registry._id });\n    console.log($scope.guestWishes)\n       /*  Registry.registryGuestBook({ id: $scope.registry._id }, function(resp) {\n            $scope.guest.guestWishes = resp;\n            console.log($scope.guest.guestWishes)\n            \n        }, function(err) {\n          \n          toaster.pop('error', \"Some error occured\");\n        });*/\n        \n\n\n      }\n\n\n      $scope.getGuestList = function(){\n        $scope.guests = Registry.registryGuest({ id: $scope.registry._id });\n      }\n\n\n      $scope.inviteFriends = function(){\n        var modalInstance = $uibModal.open({\n          templateUrl : 'app/registry/invite.html',\n          controller: 'inviteRegistryCtrl',\n          size :'md'\n        })\n        .result.then(function(result) {\n\n        });\n         /* $scope.registry.backgroundImageUrl = \"assets/img/cover.jpg\"\n         */\n       }\n\n\n       $scope.selectBackgroundImage = function(){\n        var modalInstance = $uibModal.open({\n          templateUrl : 'app/registry/backgroundImages.html',\n          controller: 'backgroundImageCtrl',\n          size :'lg'\n        })\n        .result.then(function(result) {\n          $scope.registry.backgroundImageUrl = result;\n          Registry.update({id:$scope.registry._id},$scope.registry).$promise.then(function(res) {\n            console.log(\"success\")\n          });\n        });\n\n      }\n\n      $scope.productDetail = function(product){  \n        var modalInstance = $uibModal.open({\n          templateUrl : 'app/registry/registry-product.html',\n          controller: 'RegistryProductDetailCtrl',\n          size :'md',\n          resolve: {\n            registry: function () {\n             return $scope.registry._id;\n           },registryprod : function(){\n            return  product;\n          }\n        }\n      })\n        .result.then(function(result) {\n          console.log(result)\n          $scope.queryRegistry()\n        });\n        /* }*/\n         /* $scope.registry.backgroundImageUrl = \"assets/img/cover.jpg\"\n         */\n       }\n\n       $scope.setVisible = function(){\n        $scope.registry.visible = true;\n        Registry.update({id:$scope.registry._id},$scope.registry).$promise.then(function(res) {\n          console.log(\"success\")\n        });\n\n      }\n\n      $scope.upload = function(file) {\n        if (file) {\n          Upload.upload({\n            url: '/api/uploads',\n            data: { file: file }\n          }).then(function(resp) {\n            if ($scope.registry) {\n\n              $scope.registry.profileImageUrl = resp.data.url;\n\n              Registry.update({id:$scope.registry._id},$scope.registry).$promise.then(function(res) {\n                console.log(\"success\")\n              });\n            } else {\n              $scope.registry = { profileImageUrl: resp.data.imageUrl }\n            }\n            console.log(resp.data);\n          }, function(resp) {\n            $scope.errorMsg = resp.status + ': ' + resp.data;\n          }, function(evt) {\n            var progressPercentage = parseInt(100.0 * evt.loaded / evt.total);\n            // console.log('progress: ' + progressPercentage + '% ' + evt.config.data.file.name);\n          });\n        };\n      }\n\n\n\n    }\n    ]);\n\nangular.module('bhcmartApp')\n.controller('backgroundImageCtrl', ['$scope', '$stateParams', '$state', 'Registry','$uibModalInstance',\n  function($scope, $stateParams, $state,  Registry, $uibModalInstance) {\n\n\n\n   $scope.ok = function(imageUrl) {\n    $uibModalInstance.close(imageUrl);  \n  };\n\n  $scope.cancel = function() {\n    $uibModalInstance.dismiss('cancel');\n  };\n\n}\n]);\n\nangular.module('bhcmartApp')\n.controller('RegistryProductDetailCtrl', ['$scope', '$stateParams', '$state', 'Registry','$uibModalInstance','registry','registryprod','Product','ngCart',\n  function($scope, $stateParams, $state,  Registry, $uibModalInstance,registry,registryprod,Product,ngCart) {\n\n    $scope.registryid = registry\n    $scope.registryprod = registryprod;\n\n    $scope.addtocart = function(qty){\n\n      ngCart.addItem($scope.product._id, $scope.product.title, $scope.product.price, qty ,$scope.product,$scope.registryid)\n      $uibModalInstance.close();  \n    }\n\n    $scope.buyNow = function(qyt){\n      $uibModalInstance.close(\"test\");  \n      Registry.updatePdtcnt({ id: $scope.registryid  }, $scope.product, function(resp) {\n\n      }, function(err) {\n        console.log(err)\n        $scope.message = \"An error occured!\"\n      });\n\n    }\n    \n\n\n    $scope.product = Product.get({ id: registryprod.slug });\n\n\n\n\n\n\n\n\n\n    $scope.max = parseInt(registryprod.desired) - parseInt(registryprod.required)\n\n    $scope.ok = function() {\n      $uibModalInstance.close();  \n    };\n\n\n    $scope.cancel = function() {\n      $uibModalInstance.dismiss('cancel');\n    };\n\n  }\n  ]);\nangular.module('bhcmartApp')\n.controller('FindRegistryController', ['$scope', '$stateParams', '$state', 'Registry',\n  function($scope, $stateParams, $state,  Registry) {\n\n\n    $scope.searchRegistry = function(){\n      $scope.display = false;\n      var q = {where:{title: {'$regex': $scope.input}}};\n      q.where.title.$options =\"$i\";\n      $scope.registries = Registry.query(q,function(data){\n\n        var groupArrayNew = [];\n\n        angular.forEach(data, function (item, idx) {\n          if (item.visible)\n            groupArrayNew.push(item)\n        });\n        if(groupArrayNew.length == 0){\n          console.log(\"inside loog\")\n          $scope.display = true;\n          console.log($scope.display)\n        }\n\n\n\n      });\n\n\n    }\n  }\n  ]);\n\nangular.module('bhcmartApp')\n.controller('ManageRegistryListController', ['$scope', '$stateParams', '$state', 'Registry','Auth',\n  function($scope, $stateParams, $state,  Registry,Auth) {\n    var q = {where:{username:Auth.getCurrentUser().email}};\n    $scope.registries =  Registry.query(q);\n\n  }\n  ]);\nangular.module('bhcmartApp')\n.controller('inviteRegistryCtrl',function ($scope,$rootScope,$state, $stateParams,Registry,Auth,$location, $uibModalInstance) {\n\n $scope.url = 'http://www.wrapsytest.com'+$location.path();\n console.log($location.path());\n\n $scope.cancel = function () {\n  $uibModalInstance.dismiss('Close');\n};\n$scope.ok = function (wishlistid) {\n  $uibModalInstance.close('ok');\n};\n\n});\n\nangular.module('bhcmartApp')\n.controller('ManageRegistryController', ['$scope', '$stateParams', '$state', 'Registry','$filter',\n  function($scope, $stateParams, $state,  Registry, $filter) {\n\n    $scope.clear = function() {\n      $scope.registry.date = null;\n    };\n\n    $scope.save = function(form) {\n      console.log(form.$valid)\n      if (form.$valid) {\n        Registry.update($scope.registry, function(resp) {\n\n          $state.go('registry', {id: resp._id});\n        }, function(err) {\n          console.log(err)\n        })\n      }\n    }\n\n    $scope.viewRegistry = function(){\n      $state.go('registry', {id: $scope.registry._id});\n    }\n    $scope.clear = function() {\n      $scope.registry.date = null;\n    };\n\n    $scope.open1 = function () { $scope.popup1.opened = true; };\n    $scope.popup1 = { opened: false };\n\n    $scope.options = {\n      minDate: new Date(),\n    }\n\n    $scope.setDate = function(year, month, day) {\n      $scope.registry.date = new Date(year, month, day);\n    };\n\n    $scope.registry = Registry.get({ id: $stateParams.id }, function(resp) {\n\n      console.log(resp.date)\n      var date = new Date(resp.date);\n      console.log(date.getFullYear())\n      $scope.setDate(date.getFullYear(),date.getMonth(),date.getDate() )\n\n      date.getFullYear()+'-' + (date.getMonth()+1) + '-'+date.getDate();\n    });\n\n\n\n\n\n\n  }\n  ]);\n\n\n\n\n\n"]}