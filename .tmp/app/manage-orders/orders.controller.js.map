{"version":3,"sources":["../../../client/app/manage-orders/orders.controller.js"],"names":[],"mappings":"AAAA,YAAY,CAAC;;AAEb,OAAO,CAAC,MAAM,CAAC,YAAY,CAAC,CAC3B,UAAU,CAAC,kBAAkB,EAAE,CAAC,QAAQ,EAAE,OAAO,EAAE,MAAM,EAAE,OAAO,EAAE,UAAS,MAAM,EAAE,KAAK,EAAE,IAAI,EAAE,KAAK,EAAE;AACxG,MAAI,IAAI,GAAG,IAAI,CAAC,cAAc,EAAE,CAAC;AACjC,QAAM,CAAC,OAAO,GAAG,IAAI,CAAC,OAAO,CAAC,OAAO,CAAC,CAAC;;AAEvC,OAAK,CAAC,KAAK,CAAC,UAAS,MAAM,EAAE;AAC3B,UAAM,CAAC,MAAM,GAAG,MAAM,CAAC;;AAEnB,UAAM,CAAC,WAAW,GAAG,CAAC,CAAC;AACvB,UAAM,CAAC,UAAU,GAAG,MAAM,CAAC,MAAM,CAAC,MAAM,CAAC;AACzC,UAAM,CAAC,YAAY,GAAG,EAAE,CAAC;AACzB,UAAM,CAAC,SAAS,GAAG,IAAI,CAAC,IAAI,CAAC,MAAM,CAAC,UAAU,GAAG,MAAM,CAAC,YAAY,CAAC,CAAC;GACvE,CAAC,CAAC;;AAKP,QAAM,CAAC,YAAY,GAAG,UAAS,KAAK,EAAE,OAAO,EAAE,MAAM,EAAC;AACpD,UAAM,CAAC,KAAK,GAAG,EAAE,CAAC;AAClB,UAAM,CAAC,KAAK,CAAC,EAAE,GAAG,KAAK,CAAC;AACxB,UAAM,CAAC,KAAK,CAAC,OAAO,GAAG,OAAO,CAAC;AAC/B,UAAM,CAAC,KAAK,CAAC,MAAM,GAAG,MAAM,CAAA;AAC5B,WAAO,CAAC,GAAG,CAAC,MAAM,CAAC,KAAK,CAAC,CAAC;AAC1B,SAAK,CAAC,YAAY,CAAE,MAAM,CAAC,KAAK,EAAE,UAAS,IAAI,EAAC;AAC9C,aAAO,CAAC,GAAG,CAAC,IAAI,CAAC,CAAC;KACnB,CAAC,CAAA;GACH,CAAA;;AAID,QAAM,CAAC,WAAW,GAAG,KAAK,CAAC,OAAO,UAAO,CAAC,UAAS,CAAC,EAAE;AACpD,KAAC,CAAC,OAAO,CAAC,CAAC,CAAC,GAAG,EAAE,UAAS,IAAI,EAAE;AAC9B,aAAO,CAAC,GAAG,CAAC,IAAI,CAAC,CAAA;AACjB,YAAM,CAAC,MAAM,CAAC,MAAM,CAAC,MAAM,CAAC,MAAM,CAAC,OAAO,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;KACnD,CAAC,CAAA;GACH,CAAC,CAAC;;AAEH,QAAM,CAAC,YAAY,GAAG,KAAK,CAAC,OAAO,CAAC,OAAO,CAAC,UAAS,CAAC,EAAE;AACtD,KAAC,CAAC,SAAS,GAAG,CAAC,CAAC,SAAS,GAAG,KAAK,GAAG,IAAI,CAAC;AACzC,KAAC,CAAC,OAAO,CAAC,UAAS,IAAI,EAAE;AACvB,aAAO,CAAC,GAAG,CAAC,IAAI,CAAC,CAAA;KAClB,CAAC,CAAA;GACH,CAAC,CAAC;CACJ,CAAC,CAAC,CAAC","file":"orders.controller.js","sourcesContent":["'use strict';\n\nangular.module('bhcmartApp')\n.controller('ManageOrdersCtrl', ['$scope', 'Order', 'Auth', 'Modal', function($scope, Order, Auth, Modal) {\n  var user = Auth.getCurrentUser();\n  $scope.isAdmin = Auth.hasRole('admin');\n\n  Order.query(function(orders) {\n    $scope.orders = orders;\n        \n        $scope.currentPage = 1;\n        $scope.totalItems = $scope.orders.length;\n        $scope.itemsPerPage = 10; // items per page\n        $scope.noOfPages = Math.ceil($scope.totalItems / $scope.itemsPerPage);\n      });\n\n\n\n\n  $scope.updatestatus = function(order, product, status){\n    $scope.order = {};\n    $scope.order.id = order;\n    $scope.order.product = product;\n    $scope.order.status = status\n    console.log($scope.order);\n    Order.updateStatus( $scope.order, function(data){\n      console.log(data);\n    })\n  }\n\n\n\n  $scope.deleteOrder = Modal.confirm.delete(function(o) {\n    o.$remove(o._id, function(resp) {\n      console.log(resp)\n      $scope.orders.splice($scope.orders.indexOf(o), 1);\n    })\n  });\n\n  $scope.deliverOrder = Modal.confirm.deliver(function(o) {\n    o.delivered = o.delivered ? false : true;\n    o.$update(function(resp) {\n      console.log(resp)\n    })\n  });\n}]);\n"]}