{"version":3,"sources":["../../../client/app/filters/filters.controller.js"],"names":[],"mappings":"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","file":"filters.controller.js","sourcesContent":["'use strict';\n\nangular.module('bhcmartApp')\n.controller('FiltersCtrl', ['$scope', 'Filter', 'Modal' ,'$filter','Feature','$mdDialog',\n  function($scope, Filter, Modal,$filter,Feature,$mdDialog) {\n\n    $scope.SelectedRow = function(key){\n      $scope.options = $filter('filter')($scope.filterfeatures, {key: key })[0].v;\n      console.log($scope.options)\n\n    }\n\n    $scope.query = function(){\n      Filter.query(function(data) {\n        $scope.filters = data;\n        $scope.currentPage = 1;\n        $scope.totalItems = $scope.data.length;\n        $scope.itemsPerPage = 10; // items per page\n        $scope.noOfPages = Math.ceil($scope.totalItems / $scope.itemsPerPage);\n      });\n    }\n\n    $scope.query()\n\n    $scope.save = function(form) {\n      if (form.$valid) {\n        console.log($scope.filter)\n\n        Filter.save($scope.filter, function(resp) {\n          $scope.filter = {};\n          $scope.query()\n        }, function(err) {\n          console.log(err);\n          $scope.message == err;\n        });\n      }\n    }\n\n\n\n    var datas = []\n    Feature.group(function(data) {     \n      $scope.filterfeatures = data\n      datas = data\n      console.log($scope.filterfeatures)\n\n    });\n    $scope.deletefilter = function(ev, filter) {\n      var confirm = $mdDialog.confirm()\n      .title('Would you like to delete Filter ' + filter.name +'?')\n      .ariaLabel('Delete filter')\n      .targetEvent(ev)\n      .ok('Please do it!')\n      .cancel('Cancel');\n\n      $mdDialog.show(confirm).then(function() {\n        $scope.status = 'ok';\n        filter.$remove(filter._id, function(resp) {\n          $scope.query()\n        })\n      }, function() {\n        $scope.status = 'cancel';\n        console.log($scope.status)\n      });\n    };\n  }\n  ]);\n\n\n"]}