{"version":3,"sources":["../../../client/components/order/order.service.js"],"names":[],"mappings":"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","file":"order.service.js","sourcesContent":["'use strict';\n\nangular.module('bhcmartApp')\n.factory('Order', function($resource) {\n  return $resource('/api/orders/:id/:controller', {\n    id: '@_id'\n  }, {\n    'update': { method: 'PUT' },\n    'myOrders': {\n      method: 'GET',\n      isArray: true,\n      params: {\n        controller: 'myorders'\n      }\n    },\n    'countorders': {\n      method: 'POST',\n      isArray: true,\n      params: {\n        controller: 'countorders'\n      }\n    },\n    'updateCancel': {\n      method: 'POST',        \n      params: {\n        controller: 'updateCancel'\n      }\n    },\n    'countorder': {\n      method: 'GET',        \n      params: {\n        controller: 'countorder'\n      }\n    },\n      //updateVoucher\n      'updateVoucher': {\n        method: 'POST',\n        params: {\n          controller: 'updateVoucher'\n        }\n      }\n\n    });\n});\n\nangular.module('bhcmartApp')\n.service('NavbarService', function($http,Catalog) {\n var tree = [];\n\n  Catalog.query(function(categories) {\n        var categories = categories;\n  \n        var parentCategories = _.filter(categories, function(category) {\n          return category.ancestors.length == 1;\n        });\n\n        angular.forEach(parentCategories, function(value, key){\n\n          var parentcateogry = {\n            \"name\" : value.name,\n            \"slug\" : value.slug,\n            \"id\" : value._id\n          }\n          if(value.children.length > 0){\n            parentcateogry.subtree = [];\n            angular.forEach(value.children, function(id, key){\n              var subCategories = _.filter(categories, function(category) {\n                return category._id == id;\n              })\n\n              if(subCategories.length>0){\n                var subcategory = {\n                  \"name\" : subCategories[0].name,\n                  \"slug\" : subCategories[0].slug,\n                  \"id\" :   subCategories[0]._id\n\n                }\n                if(subCategories[0].children && subCategories[0].children.length > 0){\n                  subcategory.subtree = [];\n                  angular.forEach(subCategories[0].children, function(id, key){\n                    var subsubCategories = _.filter(categories, function(category) {\n                      return category._id == id;\n                    })\n\n                    if(subsubCategories.length>0){\n                      var subsubcategory = {\n                        \"name\" : subsubCategories[0].name,\n                        \"slug\" : subsubCategories[0].slug,\n                        \"id\" :   subsubCategories[0]._id\n\n                      }\n                      subcategory.subtree.push(subsubcategory)\n                    }\n\n\n\n\n                  })\n\n                }\n\n              }\n\n              parentcateogry.subtree.push(subcategory)\n            })\n\n          }\n          tree.push(parentcateogry);\n        });\n      });\n\n return {  \n  createnav: function () {\n    return tree;\n  },\n};\n});\n"]}