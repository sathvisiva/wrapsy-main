{"version":3,"sources":["../../../client/components/sidebar-cat/sidebar-cat.controller.js"],"names":[],"mappings":"AAAA,YAAY,CAAC;;AAEb,OAAO,CAAC,MAAM,CAAC,YAAY,CAAC,CACzB,UAAU,CAAC,gBAAgB,EAAE,UAAS,MAAM,EAAE,OAAO,EAAE,MAAM,EAAE;AAC9D,MAAI,IAAI,GAAG,MAAM,CAAC;;AAElB,SAAO,CAAC,KAAK,CAAC,UAAS,UAAU,EAAE;AACjC,QAAI,CAAC,UAAU,GAAG,UAAU,CAAC;AAC7B,QAAI,CAAC,WAAW,GAAG,CAAC,CAAC,MAAM,CAAC,UAAU,EAAE,UAAS,QAAQ,EAAE;AACzD,aAAO,QAAQ,CAAC,SAAS,CAAC,MAAM,IAAI,CAAC,CAAC;KACvC,CAAC,CAAA;AACF,QAAI,gBAAgB,GAAG,CAAC,CAAC,MAAM,CAAC,UAAU,EAAE,UAAS,QAAQ,EAAE;AAC7D,aAAO,QAAQ,CAAC,SAAS,CAAC,MAAM,IAAI,CAAC,IAAI,QAAQ,CAAC,IAAI,IAAI,iBAAiB,CAAC;KAC7E,CAAC,CAAA;AACF,QAAI,CAAC,gBAAgB,GAAG,CAAC,CAAC,GAAG,CAAC,gBAAgB,EAAE,UAAS,cAAc,EAAE;AACvE,oBAAc,CAAC,QAAQ,GAAG,CAAC,CAAC,GAAG,CAAC,cAAc,CAAC,QAAQ,EAAE,UAAS,OAAO,EAAE;AACzE,YAAI,OAAO,EACT,OAAO,CAAC,CAAC,IAAI,CAAC,UAAU,EAAE;AACxB,eAAK,EAAE,OAAO;SACf,CAAC,CAAA;OACL,CAAC,CAAA;AACF,aAAO,cAAc,CAAA;KACtB,CAAC,CAAC;AACH,UAAM,CAAC,WAAW,CAAC,SAAS,EAAE,IAAI,CAAC,UAAU,CAAC,CAAC;GAChD,CAAC,CAAC;CACJ,CAAC,CAAC","file":"sidebar-cat.controller.js","sourcesContent":["'use strict';\n\nangular.module('bhcmartApp')\n  .controller('SidebarCatCtrl', function($scope, Catalog, socket) {\n    let self = $scope;\n\n    Catalog.query(function(categories) {\n      self.categories = categories;\n      self.allCategory = _.filter(categories, function(category) {\n        return category.ancestors.length == 0;\n      })\n      let parentCategories = _.filter(categories, function(category) {\n        return category.ancestors.length == 1 && category.slug != \"upsell-products\";\n      })\n      self.parentCategories = _.map(parentCategories, function(parentCategory) {\n        parentCategory.children = _.map(parentCategory.children, function(childId) {\n          if (childId)\n            return _.find(categories, {\n              \"_id\": childId\n            })\n        })\n        return parentCategory\n      });\n      socket.syncUpdates('catalog', self.categories);\n    });\n  });\n"]}